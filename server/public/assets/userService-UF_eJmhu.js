import{s as t}from"./index-BDXnSKSk.js";class u{async getProfile(){try{const r=await t.get("/users/me");if(r.data.success)return r.data.data.user;throw new Error("Failed to get profile")}catch(r){throw this.handleError(r)}}async updateProfile(r){try{const e=await t.put("/users/me",r);if(e.data.success)return e.data.data.user;throw new Error("Failed to update profile")}catch(e){throw this.handleError(e)}}async changePassword(r){try{const e=await t.put("/users/me/password",r);if(!e.data.success)throw new Error(e.data.message||"Failed to change password")}catch(e){throw this.handleError(e)}}async getAllUsers(){try{const r=await t.get("/users");if(r.data.success)return r.data.data.users;throw new Error("Failed to get users")}catch(r){throw this.handleError(r)}}async createUser(r){try{const e=await t.post("/users",r);if(e.data.success)return e.data.data.user;throw new Error(e.data.message||"Failed to create user")}catch(e){throw this.handleError(e)}}async updateUser(r,e){try{const s=await t.put(`/users/${r}`,e);if(s.data.success)return s.data.data.user;throw new Error(s.data.message||"Failed to update user")}catch(s){throw this.handleError(s)}}async toggleUserStatus(r,e){try{const s=await t.put(`/users/${r}/status`,{isActive:e});if(s.data.success)return s.data.data.user;throw new Error(s.data.message||"Failed to update user status")}catch(s){throw this.handleError(s)}}async deleteUser(r){try{const e=await t.delete(`/users/${r}`);if(!e.data.success)throw new Error(e.data.message||"Failed to delete user")}catch(e){throw this.handleError(e)}}handleError(r){var e,s,n,c;if(r&&typeof r=="object"&&"response"in r){const a=r,d=((s=(e=a.response)==null?void 0:e.data)==null?void 0:s.message)||"Request error",o=new Error(d);return o.status=(n=a.response)==null?void 0:n.status,o.data=(c=a.response)==null?void 0:c.data,o}else{if(r&&typeof r=="object"&&"request"in r)return new Error("No response received from server");{const a=r instanceof Error?r.message:"Unknown error";return new Error(a)}}}}const w=new u;export{w as u};
