import{d as he,x as Ce,r as i,C as A,c as B,o as Ae,K as Pe,a as d,l as R,p as q,f as Fe,e as t,b as u,F as H,i as O,h as m,g as h,t as E,I as W,w as P,z as Z,L as J,n as ee,k as Me,M as p}from"./index-BDXnSKSk.js";import{_ as _e}from"./AdminLayout.vue_vue_type_script_setup_true_lang-D4scmcBy.js";import{_ as De}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-CpoPOzAJ.js";import{_ as X}from"./Modal-Ds8WW8u9.js";import{u as je}from"./userService-UF_eJmhu.js";import{p as Q}from"./passkeyService-DtUEH4dq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Le={class:"rounded-2xl border border-gray-200 bg-white p-5 dark:border-gray-800 dark:bg-white/[0.03] lg:p-6"},Se={class:"mb-6 border border-gray-200 rounded-2xl dark:border-gray-800 p-5 lg:p-6"},$e={key:0,class:"mb-4 space-y-3"},Ue={class:"flex items-center gap-3"},ze={class:"text-sm font-medium text-gray-800 dark:text-white/90"},Be={class:"text-xs text-gray-500 dark:text-gray-400"},Ee=["onClick","disabled"],Ve={key:1,class:"mb-4 p-4 bg-gray-50 rounded-lg dark:bg-gray-800/50"},Ie=["disabled"],Ne={key:0,class:"animate-spin h-4 w-4 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Te={key:2,class:"mt-2 text-xs text-gray-500 dark:text-gray-400"},Ke={class:"mb-6 border border-gray-200 rounded-2xl dark:border-gray-800 p-5 lg:p-6"},Re={class:"mb-6 border border-gray-200 rounded-2xl dark:border-gray-800 p-5 lg:p-6"},qe={class:"flex items-center justify-between mb-4"},Ze={key:0,class:"px-3 py-1 text-sm font-medium text-green-700 bg-green-100 rounded-full dark:bg-green-900/30 dark:text-green-400"},Qe={key:1,class:"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 rounded-full dark:bg-gray-800 dark:text-gray-400"},Ge={key:0},Ye=["disabled"],He={key:0,class:"mr-2"},Oe={key:1,class:"mb-4"},We={class:"flex flex-col items-center p-4 bg-gray-50 rounded-lg dark:bg-gray-800/50"},Je=["src"],Xe={class:"px-3 py-2 text-xs font-mono text-gray-800 bg-white rounded dark:bg-gray-900 dark:text-gray-300"},et={class:"mt-4"},tt={class:"flex gap-2 justify-center mb-4"},rt=["onUpdate:modelValue","onInput","onKeydown"],st={class:"flex gap-3 mt-3"},at=["disabled"],ot={key:2,class:"mt-4"},lt={class:"no-scrollbar relative w-full max-w-[500px] overflow-y-auto rounded-3xl bg-white p-4 dark:bg-gray-900 lg:p-11"},dt={class:"custom-scrollbar overflow-y-auto p-2"},nt={class:"mb-4"},it={class:"flex items-center gap-3 px-2 mt-6 lg:justify-end"},ut=["disabled"],gt={class:"no-scrollbar relative w-full max-w-[500px] overflow-y-auto rounded-3xl bg-white p-4 dark:bg-gray-900 lg:p-11"},ct={class:"custom-scrollbar overflow-y-auto p-2"},yt={class:"mb-4"},bt={class:"relative"},ft=["type"],vt={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},mt={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},pt={class:"mb-4"},xt={class:"relative"},kt=["type"],wt={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ht={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ct={key:0,class:"mt-2"},At={class:"flex items-center gap-2 mb-1"},Pt={class:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden dark:bg-gray-700"},Ft={key:1,class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},Mt={class:"mb-4"},_t={class:"relative"},Dt=["type"],jt={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Lt={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},St={class:"flex items-center gap-3 px-2 mt-6 lg:justify-end"},$t=["disabled"],Ut={class:"no-scrollbar relative w-full max-w-[500px] overflow-y-auto rounded-3xl bg-white p-4 dark:bg-gray-900 lg:p-11"},zt={class:"custom-scrollbar overflow-y-auto p-2"},Bt={class:"mb-4"},Et={class:"mb-4"},Vt={class:"flex gap-2 justify-center"},It=["onUpdate:modelValue","onInput","onKeydown"],Nt={class:"flex items-center gap-3 px-2 mt-6 lg:justify-end"},Tt=["disabled"],Ot=he({__name:"AccountSettings",setup(Kt){const c=Ce(),te=i("Account Settings"),f=i(!1),L=i(!1),V=i(""),G=i(""),y=i(["","","","","",""]),x=i([]),C=i(!1),F=i(""),b=i(["","","","","",""]),k=i([]),M=i(!1),I=i(""),w=i(""),N=i(""),S=i(!1),$=i(!1),U=i(!1),T=i([]),v=i(!1),z=i(!1),_=i(!1),D=i(""),j=i(A.getCurrentUser()),re=B(()=>y.value.every(r=>r!=="")&&y.value.length===6),se=B(()=>y.value.join("")),ae=B(()=>b.value.join("")),oe=B(()=>b.value.every(r=>r!=="")&&b.value.length===6);Ae(async()=>{try{const r=await A.getMe();j.value=r,z.value=Q.isSupported(),z.value&&await Y()}catch(r){console.error("Error cargando usuario:",r)}}),Pe(C,async r=>{var e;r&&(b.value=["","","","","",""],await p(),(e=k.value[0])==null||e.focus())});const Y=async()=>{try{v.value=!0,T.value=await Q.listPasskeys()}catch(r){console.error("Error loading passkeys:",r),c.error(r.message||"Failed to load passkeys")}finally{v.value=!1}},le=()=>{D.value="",_.value=!0},de=async()=>{var r,e,o,n;if(!D.value.trim()){c.error("Please enter a name for your passkey");return}v.value=!0;try{await Q.registerPasskey(D.value.trim()),c.success("Passkey registered successfully"),_.value=!1,D.value="",await Y()}catch(a){console.error("Error registering passkey:",a);let s="Failed to register passkey";a.message?s=a.message:(e=(r=a.response)==null?void 0:r.data)!=null&&e.message?s=a.response.data.message:(n=(o=a.response)==null?void 0:o.data)!=null&&n.error&&(s=`Error: ${a.response.data.error}`),s.includes("not supported")?s="Passkeys are not supported on this device or browser. Please use a modern browser like Chrome, Safari, or Edge.":s.includes("cancelled")?s="Passkey registration was cancelled":s.includes("User email")&&(s="Your account email is required. Please update your profile."),c.error(s)}finally{v.value=!1}},ne=async r=>{if(confirm("Are you sure you want to delete this passkey?")){v.value=!0;try{await Q.deletePasskey(r),c.success("Passkey deleted successfully"),await Y()}catch(e){console.error("Error deleting passkey:",e),c.error(e.message||"Failed to delete passkey")}finally{v.value=!1}}},ie=r=>{if(!r)return"Never used";const e=new Date(r),n=new Date().getTime()-e.getTime(),a=Math.floor(n/(1e3*60*60*24));return a===0?"Used today":a===1?"Used yesterday":a<7?`Used ${a} days ago`:a<30?`Used ${Math.floor(a/7)} weeks ago`:`Added ${e.toLocaleDateString()}`},ue=async()=>{var r;f.value=!0;try{const e=await A.enable2FA();V.value=e.qrCode,G.value=e.manualEntryKey,L.value=!0,y.value=["","","","","",""],await p(),(r=x.value[0])==null||r.focus()}catch(e){c.error(e.message||"Failed to enable 2FA")}finally{f.value=!1}},ge=(r,e)=>{const a=e.target.value.replace(/[^0-9]/g,"").slice(-1);a?(y.value[r]=a,r<5&&p(()=>{var s;(s=x.value[r+1])==null||s.focus()})):y.value[r]=""},ce=(r,e)=>{var o,n;e.key==="Backspace"&&!y.value[r]&&r>0?p(()=>{var a;(a=x.value[r-1])==null||a.focus()}):e.key==="ArrowLeft"&&r>0?(e.preventDefault(),(o=x.value[r-1])==null||o.focus()):e.key==="ArrowRight"&&r<5&&(e.preventDefault(),(n=x.value[r+1])==null||n.focus())},ye=async r=>{var a,s;r.preventDefault();const o=(((a=r.clipboardData)==null?void 0:a.getData("text"))||"").replace(/[^0-9]/g,"").slice(0,6).split("");for(let l=0;l<6;l++)l<o.length?y.value[l]=o[l]:y.value[l]="";await p();const n=Math.min(o.length,5);(s=x.value[n])==null||s.focus()},be=async()=>{var e;const r=se.value;if(r.length!==6){c.error("Code must be 6 digits");return}f.value=!0;try{await A.confirm2FA(r),c.success("2FA enabled successfully"),L.value=!1,y.value=["","","","","",""];const o=await A.getMe();j.value=o}catch(o){c.error(o.message||"Invalid code"),y.value=["","","","","",""],await p(),(e=x.value[0])==null||e.focus()}finally{f.value=!1}},fe=()=>{L.value=!1,V.value="",G.value="",y.value=["","","","","",""]},ve=(r,e)=>{const a=e.target.value.replace(/[^0-9]/g,"").slice(-1);a?(b.value[r]=a,r<5&&p(()=>{var s;(s=k.value[r+1])==null||s.focus()})):b.value[r]=""},me=(r,e)=>{var o,n;e.key==="Backspace"&&!b.value[r]&&r>0?p(()=>{var a;(a=k.value[r-1])==null||a.focus()}):e.key==="ArrowLeft"&&r>0?(e.preventDefault(),(o=k.value[r-1])==null||o.focus()):e.key==="ArrowRight"&&r<5&&(e.preventDefault(),(n=k.value[r+1])==null||n.focus())},pe=async r=>{var a,s;r.preventDefault();const o=(((a=r.clipboardData)==null?void 0:a.getData("text"))||"").replace(/[^0-9]/g,"").slice(0,6).split("");for(let l=0;l<6;l++)l<o.length?b.value[l]=o[l]:b.value[l]="";await p();const n=Math.min(o.length,5);(s=k.value[n])==null||s.focus()},xe=async()=>{var e;const r=ae.value;if(!F.value||r.length!==6){c.error("Please complete all fields");return}f.value=!0;try{await A.disable2FA(F.value,r),c.success("2FA disabled successfully"),C.value=!1,F.value="",b.value=["","","","","",""];const o=await A.getMe();j.value=o}catch(o){c.error(o.message||"Failed to disable 2FA"),b.value=["","","","","",""],await p(),(e=k.value[0])==null||e.focus()}finally{f.value=!1}},ke=r=>{if(!r)return{score:0,percentage:0,label:"",color:"",textColor:""};let e=0;const o={length:r.length>=8,lowercase:/[a-z]/.test(r),uppercase:/[A-Z]/.test(r),numbers:/[0-9]/.test(r),special:/[^a-zA-Z0-9]/.test(r)};o.length&&(e+=1),o.lowercase&&(e+=1),o.uppercase&&(e+=1),o.numbers&&(e+=1),o.special&&(e+=1),r.length>=12&&(e+=1),r.length>=16&&(e+=1);let n="",a="",s="",l=0;return e<=2?(n="Weak",a="bg-red-500",s="text-red-600 dark:text-red-400",l=33):e<=4?(n="Fair",a="bg-yellow-500",s="text-yellow-600 dark:text-yellow-400",l=66):e<=6?(n="Good",a="bg-blue-500",s="text-blue-600 dark:text-blue-400",l=85):(n="Strong",a="bg-green-500",s="text-green-600 dark:text-green-400",l=100),{score:e,percentage:l,label:n,color:a,textColor:s}},K=B(()=>ke(w.value)),we=async()=>{if(w.value!==N.value){c.error("New passwords do not match");return}if(w.value.length<8){c.error("Password must be at least 8 characters");return}f.value=!0;try{await je.changePassword({currentPassword:I.value,newPassword:w.value}),c.success("Password changed successfully"),M.value=!1,I.value="",w.value="",N.value="",S.value=!1,$.value=!1,U.value=!1}catch(r){c.error(r.message||"Failed to change password")}finally{f.value=!1}};return(r,e)=>(d(),R(_e,null,{default:q(()=>{var o,n,a;return[Fe(De,{pageTitle:te.value},null,8,["pageTitle"]),t("div",Le,[e[53]||(e[53]=t("h3",{class:"mb-5 text-lg font-semibold text-gray-800 dark:text-white/90 lg:mb-7"}," Account Settings ",-1)),t("div",Se,[e[24]||(e[24]=t("div",{class:"flex items-center justify-between mb-4"},[t("div",null,[t("h4",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"}," Passkeys "),t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Sign in quickly and securely with biometrics, PIN, or security keys ")])],-1)),T.value.length>0?(d(),u("div",$e,[(d(!0),u(H,null,O(T.value,s=>(d(),u("div",{key:s.id,class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg dark:bg-gray-800/50"},[t("div",Ue,[e[21]||(e[21]=t("div",{class:"p-2 bg-brand-100 rounded-lg dark:bg-brand-900/30"},[t("svg",{class:"w-5 h-5 text-brand-600 dark:text-brand-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A13.916 13.916 0 008 11a4 4 0 118 0c0 1.017-.07 2.019-.203 3m-2.118 6.844A21.88 21.88 0 0015.171 17m3.839 1.132c.645-2.266.99-4.659.99-7.132A8 8 0 008 4.07M3 15.364c.64-1.319 1-2.8 1-4.364 0-1.457.39-2.823 1.07-4"})])],-1)),t("div",null,[t("p",ze,E(s.name),1),t("p",Be,E(ie(s.lastUsed||s.createdAt)),1)])]),t("button",{onClick:l=>ne(s.id),disabled:v.value,class:"px-3 py-1 text-xs font-medium text-red-700 transition rounded-lg border border-red-300 bg-red-50 hover:bg-red-100 dark:border-red-800 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/30 disabled:opacity-50 disabled:cursor-not-allowed"}," Remove ",8,Ee)]))),128))])):m("",!0),T.value.length===0&&!v.value?(d(),u("div",Ve,e[22]||(e[22]=[t("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," No passkeys registered. Add a passkey to sign in faster and more securely. ",-1)]))):m("",!0),t("button",{onClick:le,disabled:v.value||!z.value,class:"flex items-center justify-center px-4 py-2 text-sm font-medium text-white transition rounded-lg bg-brand-500 shadow-theme-xs hover:bg-brand-600 disabled:opacity-50 disabled:cursor-not-allowed"},[v.value?(d(),u("svg",Ne,e[23]||(e[23]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):m("",!0),h(" "+E(z.value?"Add Passkey":"Passkeys Not Supported"),1)],8,Ie),z.value?m("",!0):(d(),u("p",Te," Your browser doesn't support passkeys. Try using a modern browser like Chrome, Safari, or Edge. "))]),t("div",Ke,[e[25]||(e[25]=t("div",{class:"flex items-center justify-between mb-4"},[t("div",null,[t("h4",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"}," Change Password "),t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Update your password to keep your account secure ")])],-1)),t("button",{onClick:e[0]||(e[0]=s=>M.value=!0),class:"flex items-center justify-center px-4 py-2 text-sm font-medium text-white transition rounded-lg bg-brand-500 shadow-theme-xs hover:bg-brand-600"}," Change Password ")]),t("div",Re,[t("div",qe,[e[26]||(e[26]=t("div",null,[t("h4",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"}," Two-Factor Authentication (2FA) "),t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Add an extra layer of security to your account ")],-1)),(o=j.value)!=null&&o.twoFactorEnabled?(d(),u("div",Ze," Active ")):(d(),u("div",Qe," Inactive "))]),!((n=j.value)!=null&&n.twoFactorEnabled)&&!L.value?(d(),u("div",Ge,[e[29]||(e[29]=t("p",{class:"mb-4 text-sm text-gray-600 dark:text-gray-400"}," Scan the QR code with your authentication app (Google Authenticator, Authy, etc.) to enable 2FA. ",-1)),t("button",{onClick:ue,disabled:f.value,class:"flex items-center justify-center px-4 py-2 text-sm font-medium text-white transition rounded-lg bg-brand-500 shadow-theme-xs hover:bg-brand-600 disabled:opacity-50 disabled:cursor-not-allowed"},[f.value?(d(),u("span",He,e[27]||(e[27]=[t("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):m("",!0),e[28]||(e[28]=h(" Enable 2FA "))],8,Ye)])):m("",!0),L.value&&V.value?(d(),u("div",Oe,[t("div",We,[e[30]||(e[30]=t("p",{class:"mb-3 text-sm font-medium text-gray-700 dark:text-gray-300"}," Scan this QR code: ",-1)),t("img",{src:V.value,alt:"2FA QR Code",class:"mb-3 w-48 h-48"},null,8,Je),e[31]||(e[31]=t("p",{class:"mb-2 text-xs text-gray-600 dark:text-gray-400"}," Or manually enter this code: ",-1)),t("code",Xe,E(G.value),1)]),t("div",et,[e[32]||(e[32]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Enter the 6-digit code to confirm: ",-1)),t("div",tt,[(d(!0),u(H,null,O(y.value,(s,l)=>P((d(),u("input",{key:l,ref_for:!0,ref:g=>{g&&(x.value[l]=g)},"onUpdate:modelValue":g=>y.value[l]=g,type:"text",inputmode:"numeric",pattern:"[0-9]",maxlength:"1",onInput:g=>ge(l,g),onKeydown:g=>ce(l,g),onPaste:e[1]||(e[1]=g=>ye(g)),class:"w-12 h-12 text-center text-lg font-semibold rounded-lg border-2 border-gray-300 bg-transparent text-gray-800 shadow-theme-xs focus:border-brand-500 focus:outline-hidden focus:ring-2 focus:ring-brand-500/20 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-500 transition-colors"},null,40,rt)),[[Z,y.value[l]]])),128))]),t("div",st,[t("button",{onClick:be,disabled:!re.value||f.value,class:"flex items-center justify-center px-4 py-2 text-sm font-medium text-white transition rounded-lg bg-brand-500 shadow-theme-xs hover:bg-brand-600 disabled:opacity-50 disabled:cursor-not-allowed"}," Confirm ",8,at),t("button",{onClick:fe,class:"flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-700 transition rounded-lg border border-gray-300 bg-white hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]"}," Cancel ")])])])):m("",!0),(a=j.value)!=null&&a.twoFactorEnabled?(d(),u("div",ot,[e[33]||(e[33]=t("p",{class:"mb-4 text-sm text-gray-600 dark:text-gray-400"}," Disabling 2FA will reduce your account security. ",-1)),t("button",{onClick:e[2]||(e[2]=s=>C.value=!0),class:"px-4 py-2 text-sm font-medium text-red-700 transition rounded-lg border border-red-300 bg-red-50 hover:bg-red-100 dark:border-red-800 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/30"}," Disable 2FA ")])):m("",!0)]),_.value?(d(),R(X,{key:0,onClose:e[6]||(e[6]=s=>_.value=!1)},{body:q(()=>[t("div",lt,[t("button",{onClick:e[3]||(e[3]=s=>_.value=!1),class:"transition-color absolute right-5 top-5 z-999 flex h-11 w-11 items-center justify-center rounded-full bg-gray-100 text-gray-400 hover:bg-gray-200 hover:text-gray-600 dark:bg-gray-700 dark:bg-white/[0.05] dark:text-gray-400 dark:hover:bg-white/[0.07] dark:hover:text-gray-300"},e[34]||(e[34]=[t("svg",{class:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.04289 16.5418C5.65237 16.9323 5.65237 17.5655 6.04289 17.956C6.43342 18.3465 7.06658 18.3465 7.45711 17.956L11.9987 13.4144L16.5408 17.9565C16.9313 18.347 17.5645 18.347 17.955 17.9565C18.3455 17.566 18.3455 16.9328 17.955 16.5423L13.4129 12.0002L17.955 7.45808C18.3455 7.06756 18.3455 6.43439 17.955 6.04387C17.5645 5.65335 16.9313 5.65335 16.5408 6.04387L11.9987 10.586L7.45711 6.04439C7.06658 5.65386 6.43342 5.65386 6.04289 6.04439C5.65237 6.43491 5.65237 7.06808 6.04289 7.4586L10.5845 12.0002L6.04289 16.5418Z",fill:""})],-1)])),e[36]||(e[36]=t("div",{class:"px-2 pr-14"},[t("h4",{class:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90"}," Add Passkey "),t("p",{class:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7"},' Give your passkey a name to help you identify it later (e.g., "iPhone 14 Pro", "YubiKey"). ')],-1)),t("form",{onSubmit:W(de,["prevent"]),class:"flex flex-col"},[t("div",dt,[t("div",nt,[e[35]||(e[35]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[h(" Passkey Name"),t("span",{class:"text-error-500"},"*")],-1)),P(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>D.value=s),type:"text",required:"",placeholder:"e.g., My iPhone",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[Z,D.value]])])]),t("div",it,[t("button",{onClick:e[5]||(e[5]=s=>_.value=!1),type:"button",class:"flex w-full justify-center rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] sm:w-auto"}," Cancel "),t("button",{type:"submit",disabled:v.value,class:"flex w-full justify-center rounded-lg bg-brand-500 px-4 py-2.5 text-sm font-medium text-white hover:bg-brand-600 disabled:opacity-50 disabled:cursor-not-allowed sm:w-auto"}," Create Passkey ",8,ut)])],32)])]),_:1})):m("",!0),M.value?(d(),R(X,{key:1,onClose:e[15]||(e[15]=s=>M.value=!1)},{body:q(()=>[t("div",gt,[t("button",{onClick:e[7]||(e[7]=s=>M.value=!1),class:"transition-color absolute right-5 top-5 z-999 flex h-11 w-11 items-center justify-center rounded-full bg-gray-100 text-gray-400 hover:bg-gray-200 hover:text-gray-600 dark:bg-gray-700 dark:bg-white/[0.05] dark:text-gray-400 dark:hover:bg-white/[0.07] dark:hover:text-gray-300"},e[37]||(e[37]=[t("svg",{class:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.04289 16.5418C5.65237 16.9323 5.65237 17.5655 6.04289 17.956C6.43342 18.3465 7.06658 18.3465 7.45711 17.956L11.9987 13.4144L16.5408 17.9565C16.9313 18.347 17.5645 18.347 17.955 17.9565C18.3455 17.566 18.3455 16.9328 17.955 16.5423L13.4129 12.0002L17.955 7.45808C18.3455 7.06756 18.3455 6.43439 17.955 6.04387C17.5645 5.65335 16.9313 5.65335 16.5408 6.04387L11.9987 10.586L7.45711 6.04439C7.06658 5.65386 6.43342 5.65386 6.04289 6.04439C5.65237 6.43491 5.65237 7.06808 6.04289 7.4586L10.5845 12.0002L6.04289 16.5418Z",fill:""})],-1)])),e[48]||(e[48]=t("div",{class:"px-2 pr-14"},[t("h4",{class:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90"}," Change Password "),t("p",{class:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7"}," Enter your current password and choose a new password. ")],-1)),t("form",{onSubmit:W(we,["prevent"]),class:"flex flex-col"},[t("div",ct,[t("div",yt,[e[40]||(e[40]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[h(" Current Password"),t("span",{class:"text-error-500"},"*")],-1)),t("div",bt,[P(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>I.value=s),type:S.value?"text":"password",required:"",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,8,ft),[[J,I.value]]),t("button",{type:"button",onClick:e[9]||(e[9]=s=>S.value=!S.value),class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},[S.value?(d(),u("svg",vt,e[38]||(e[38]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)]))):(d(),u("svg",mt,e[39]||(e[39]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])])]),t("div",pt,[e[44]||(e[44]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[h(" New Password"),t("span",{class:"text-error-500"},"*")],-1)),t("div",xt,[P(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>w.value=s),type:$.value?"text":"password",required:"",minlength:"8",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,8,kt),[[J,w.value]]),t("button",{type:"button",onClick:e[11]||(e[11]=s=>$.value=!$.value),class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},[$.value?(d(),u("svg",wt,e[41]||(e[41]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)]))):(d(),u("svg",ht,e[42]||(e[42]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),w.value?(d(),u("div",Ct,[t("div",At,[t("div",Pt,[t("div",{class:ee(["h-full transition-all duration-300 rounded-full",K.value.color]),style:Me({width:K.value.percentage+"%"})},null,6)]),t("span",{class:ee(["text-xs font-medium",K.value.textColor])},E(K.value.label),3)]),e[43]||(e[43]=t("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Minimum 8 characters ",-1))])):(d(),u("p",Ft," Minimum 8 characters "))]),t("div",Mt,[e[47]||(e[47]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[h(" Confirm New Password"),t("span",{class:"text-error-500"},"*")],-1)),t("div",_t,[P(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>N.value=s),type:U.value?"text":"password",required:"",minlength:"8",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 pr-11 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,8,Dt),[[J,N.value]]),t("button",{type:"button",onClick:e[13]||(e[13]=s=>U.value=!U.value),class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},[U.value?(d(),u("svg",jt,e[45]||(e[45]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)]))):(d(),u("svg",Lt,e[46]||(e[46]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])])])]),t("div",St,[t("button",{onClick:e[14]||(e[14]=s=>M.value=!1),type:"button",class:"flex w-full justify-center rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] sm:w-auto"}," Cancel "),t("button",{type:"submit",disabled:f.value,class:"flex w-full justify-center rounded-lg bg-brand-500 px-4 py-2.5 text-sm font-medium text-white hover:bg-brand-600 disabled:opacity-50 disabled:cursor-not-allowed sm:w-auto"}," Change Password ",8,$t)])],32)])]),_:1})):m("",!0),C.value?(d(),R(X,{key:2,onClose:e[20]||(e[20]=s=>C.value=!1)},{body:q(()=>[t("div",Ut,[t("button",{onClick:e[16]||(e[16]=s=>C.value=!1),class:"transition-color absolute right-5 top-5 z-999 flex h-11 w-11 items-center justify-center rounded-full bg-gray-100 text-gray-400 hover:bg-gray-200 hover:text-gray-600 dark:bg-gray-700 dark:bg-white/[0.05] dark:text-gray-400 dark:hover:bg-white/[0.07] dark:hover:text-gray-300"},e[49]||(e[49]=[t("svg",{class:"fill-current",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.04289 16.5418C5.65237 16.9323 5.65237 17.5655 6.04289 17.956C6.43342 18.3465 7.06658 18.3465 7.45711 17.956L11.9987 13.4144L16.5408 17.9565C16.9313 18.347 17.5645 18.347 17.955 17.9565C18.3455 17.566 18.3455 16.9328 17.955 16.5423L13.4129 12.0002L17.955 7.45808C18.3455 7.06756 18.3455 6.43439 17.955 6.04387C17.5645 5.65335 16.9313 5.65335 16.5408 6.04387L11.9987 10.586L7.45711 6.04439C7.06658 5.65386 6.43342 5.65386 6.04289 6.04439C5.65237 6.43491 5.65237 7.06808 6.04289 7.4586L10.5845 12.0002L6.04289 16.5418Z",fill:""})],-1)])),e[52]||(e[52]=t("div",{class:"px-2 pr-14"},[t("h4",{class:"mb-2 text-2xl font-semibold text-gray-800 dark:text-white/90"}," Disable 2FA "),t("p",{class:"mb-6 text-sm text-gray-500 dark:text-gray-400 lg:mb-7"}," To disable 2FA, enter your password and current authentication code. ")],-1)),t("form",{onSubmit:W(xe,["prevent"]),class:"flex flex-col"},[t("div",zt,[t("div",Bt,[e[50]||(e[50]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[h(" Password"),t("span",{class:"text-error-500"},"*")],-1)),P(t("input",{"onUpdate:modelValue":e[17]||(e[17]=s=>F.value=s),type:"password",required:"",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[Z,F.value]])]),t("div",Et,[e[51]||(e[51]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[h(" 2FA Code"),t("span",{class:"text-error-500"},"*")],-1)),t("div",Vt,[(d(!0),u(H,null,O(b.value,(s,l)=>P((d(),u("input",{key:l,ref_for:!0,ref:g=>{g&&(k.value[l]=g)},"onUpdate:modelValue":g=>b.value[l]=g,type:"text",inputmode:"numeric",pattern:"[0-9]",maxlength:"1",onInput:g=>ve(l,g),onKeydown:g=>me(l,g),onPaste:e[18]||(e[18]=g=>pe(g)),class:"w-12 h-12 text-center text-lg font-semibold rounded-lg border-2 border-gray-300 bg-transparent text-gray-800 shadow-theme-xs focus:border-brand-500 focus:outline-hidden focus:ring-2 focus:ring-brand-500/20 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-500 transition-colors"},null,40,It)),[[Z,b.value[l]]])),128))])])]),t("div",Nt,[t("button",{onClick:e[19]||(e[19]=s=>C.value=!1),type:"button",class:"flex w-full justify-center rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] sm:w-auto"}," Cancel "),t("button",{type:"submit",disabled:f.value||!oe.value||!F.value,class:"flex w-full justify-center rounded-lg bg-red-500 px-4 py-2.5 text-sm font-medium text-white hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed sm:w-auto"}," Disable ",8,Tt)])],32)])]),_:1})):m("",!0)])]}),_:1}))}});export{Ot as default};
