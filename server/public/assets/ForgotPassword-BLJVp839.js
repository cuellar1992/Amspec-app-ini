import{d as v,r as o,a as n,l as b,p as f,e,I as y,g as u,w as h,z as w,b as m,t as x,h as p,f as k,j as _,s as C}from"./index-BDXnSKSk.js";import{F as B}from"./FullScreenLayout-DTsoNuRz.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"relative p-6 bg-white z-1 dark:bg-gray-900 sm:p-0"},S={class:"relative flex flex-col justify-center w-full h-screen dark:bg-gray-900"},V={class:"flex flex-col flex-1 w-full"},E={class:"flex flex-col justify-center flex-1 w-full max-w-md mx-auto"},M={class:"space-y-5"},j={key:0,class:"p-3 text-sm text-white bg-red-500 rounded-lg"},z={key:1,class:"p-3 text-sm text-white bg-green-500 rounded-lg"},F=["disabled"],N={key:0,class:"mr-2"},D={class:"text-center"},T=v({__name:"ForgotPassword",setup(P){const i=o(""),a=o(!1),l=o(""),r=o(""),g=async()=>{var d,t;l.value="",r.value="",a.value=!0;try{const s=await C.post("/password/forgot",{email:i.value});s.data.success&&(r.value="If the email exists, a recovery link will be sent. Please check your email.",s.data.resetLink&&(console.log("ðŸ”— Reset Link:",s.data.resetLink),r.value+=` (Development: ${s.data.resetLink})`))}catch(s){console.error("Error:",s);const c=s;l.value=((t=(d=c.response)==null?void 0:d.data)==null?void 0:t.message)||"Failed to send recovery request"}finally{a.value=!1}};return(d,t)=>{const s=_("router-link");return n(),b(B,null,{default:f(()=>[e("div",L,[e("div",S,[e("div",V,[e("div",E,[e("div",null,[t[4]||(t[4]=e("div",{class:"mb-5 sm:mb-8"},[e("h1",{class:"mb-2 font-semibold text-gray-800 text-title-sm dark:text-white/90 sm:text-title-md"}," Reset Password "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Enter your email and we'll send you a link to reset your password. ")],-1)),e("div",null,[e("form",{onSubmit:y(g,["prevent"])},[e("div",M,[e("div",null,[t[1]||(t[1]=e("label",{for:"email",class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},[u(" Email"),e("span",{class:"text-error-500"},"*")],-1)),h(e("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>i.value=c),type:"email",id:"email",name:"email",placeholder:"user@amspecgroup.com",required:"",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[w,i.value]])]),l.value?(n(),m("div",j,x(l.value),1)):p("",!0),r.value?(n(),m("div",z,x(r.value),1)):p("",!0),e("div",null,[e("button",{type:"submit",disabled:a.value,class:"flex items-center justify-center w-full px-4 py-3 text-sm font-medium text-white transition rounded-lg bg-brand-500 shadow-theme-xs hover:bg-brand-600 disabled:opacity-50 disabled:cursor-not-allowed"},[a.value?(n(),m("span",N,t[2]||(t[2]=[e("svg",{class:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):p("",!0),u(" "+x(a.value?"Sending...":"Send recovery link"),1)],8,F)]),e("div",D,[k(s,{to:"/signin",class:"text-sm text-brand-500 hover:text-brand-600 dark:text-brand-400"},{default:f(()=>t[3]||(t[3]=[u(" Back to sign in ")])),_:1})])])],32)])])])])])])]),_:1})}}});export{T as default};
