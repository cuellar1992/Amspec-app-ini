import{d as me,c as v,a as b,l as Z,p as S,f as m,u as h,e,g as ve,t as g,n as V,b as _,i as ee,F as te,h as K,x as Ve,r as i,o as Ae,U as Te,I as Fe,w as Oe,v as je}from"./index-BEwWJCfq.js";import{C as Y}from"./component-C085N_PL.js";import{d as Be,C as He}from"./ConfirmationModal-pn1y-z0k.js";import{u as Ne,c as Pe,l as Ue,d as Ee}from"./molekulisLoadingService-CTbfhNsW.js";import{_ as We}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Bo6EfaUO.js";import{_ as ze}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-DwZBASTA.js";import{_ as ue}from"./ComponentCard.vue_vue_type_script_setup_true_lang-4gcYoayb.js";import{Y as Re,h as ge,G as Ye,V as Ke,S as Ge}from"./transition-BQFT3kHB.js";import{_ as ce}from"./SingleSelect-DyXcDeUp.js";import"./InfoCircleIcon-BcdoysoI.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const qe={class:"fixed inset-0 overflow-y-auto"},Je={class:"flex min-h-full items-center justify-center p-4 text-center"},Qe={class:"flex items-center justify-between"},Xe={class:"mt-4 space-y-4"},Ze={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},et={class:"text-sm text-gray-900 dark:text-gray-100"},tt={class:"text-sm text-gray-900 dark:text-gray-100"},at={class:"text-sm text-gray-900 dark:text-gray-100"},rt={class:"space-y-1 text-sm text-gray-900 dark:text-gray-100"},ot={key:0,class:"text-gray-500 dark:text-gray-400"},st=me({__name:"ViewMolekulisLoadingModal",props:{isOpen:{type:Boolean},item:{}},emits:["close"],setup(ae,{emit:p}){const n=ae,O=p,x=()=>{O("close")},w=v(()=>{var o;return(o=n.item)!=null&&o.when?new Date(n.item.when).toLocaleDateString("en-AU",{day:"2-digit",month:"2-digit",year:"numeric"}):"-"}),k=l=>l<10?`0${l}`:`${l}`,j=l=>{if(!l)return"--:--";const o=new Date(l);return`${k(o.getHours())}:${k(o.getMinutes())}`},G=v(()=>{var d,y;if(!((d=n.item)!=null&&d.startAt)||!((y=n.item)!=null&&y.endAt))return 0;const l=new Date(n.item.startAt).getTime(),o=new Date(n.item.endAt).getTime();return+(Math.max(0,o-l)/36e5).toFixed(0)}),M=v(()=>n.item?`${j(n.item.startAt)} - ${j(n.item.endAt)} (${G.value}h)`:"-"),B=v(()=>{var d,y;const l=new Date,o=(d=n.item)!=null&&d.startAt?new Date(n.item.startAt):null,u=(y=n.item)!=null&&y.endAt?new Date(n.item.endAt):null;return o&&l<o?"pending":o&&u&&l>=o&&l<=u?"in-progress":u&&l>u?"completed":"pending"}),q=l=>l==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":l==="in-progress"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";return(l,o)=>(b(),Z(h(Ge),{appear:"",show:l.isOpen,as:"template"},{default:S(()=>[m(h(Re),{as:"div",class:"relative z-[999999]",onClose:x},{default:S(()=>[m(h(ge),{as:"template",enter:"duration-200 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-150 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:S(()=>o[0]||(o[0]=[e("div",{class:"fixed inset-0 bg-black/40"},null,-1)])),_:1}),e("div",qe,[e("div",Je,[m(h(ge),{as:"template",enter:"duration-200 ease-out","enter-from":"opacity-0 translate-y-2 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"duration-150 ease-in","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-2 sm:scale-95"},{default:S(()=>[m(h(Ye),{class:"w-full max-w-2xl transform overflow-hidden rounded-xl bg-white p-6 text-left align-middle shadow-xl transition-all dark:bg-gray-800"},{default:S(()=>{var u,d,y,H;return[e("div",Qe,[m(h(Ke),{class:"text-lg font-semibold text-gray-900 dark:text-white"},{default:S(()=>o[1]||(o[1]=[ve("Loading Details")])),_:1}),e("button",{onClick:x,class:"rounded p-2 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-700"},o[2]||(o[2]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Xe,[e("div",Ze,[e("div",null,[o[3]||(o[3]=e("div",{class:"text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400"},"Date",-1)),e("div",et,g(w.value),1)]),e("div",null,[o[4]||(o[4]=e("div",{class:"text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400"},"Surveyor",-1)),e("div",tt,g(((u=l.item)==null?void 0:u.who)||"-"),1)]),e("div",null,[o[5]||(o[5]=e("div",{class:"text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400"},"Status",-1)),e("span",{class:V(["inline-flex rounded-full px-2.5 py-0.5 text-xs font-medium",q(B.value)])},g(B.value),3)]),e("div",null,[o[6]||(o[6]=e("div",{class:"text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400"},"Shift",-1)),e("div",at,g(M.value),1)])]),e("div",null,[o[7]||(o[7]=e("div",{class:"text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-1"},"Loads",-1)),e("ul",rt,[(b(!0),_(te,null,ee(((d=l.item)==null?void 0:d.loads)||[],(N,P)=>(b(),_("li",{key:P}," L"+g(P+1)+" - "+g(N.product)+" "+g(N.time),1))),128)),!((y=l.item)!=null&&y.loads)||!((H=l.item)!=null&&H.loads.length)?(b(),_("li",ot,"No loads")):K("",!0)])])]),e("div",{class:"mt-6 flex justify-end gap-2"},[e("button",{type:"button",onClick:x,class:"rounded-lg border border-gray-300 px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700"},"Close")])]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),lt={class:"mt-4 grid grid-cols-1 lg:grid-cols-2 gap-6"},nt={class:"p-6"},dt={class:"flex items-center justify-start"},it={class:"w-full md:w-auto"},ut={class:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end"},gt={key:0,class:"space-y-2"},ct={class:"space-y-1"},mt={class:"text-gray-800 dark:text-gray-200"},vt=["onClick"],pt={class:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end"},yt=["value"],ft={class:"flex items-center justify-end"},bt={class:"flex gap-2"},xt=["disabled"],kt={class:"overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800"},ht={class:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700"},wt={class:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300"},St={class:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300"},_t={class:"flex items-center gap-1"},Ct=["disabled"],Lt={class:"px-2"},Mt=["disabled"],Dt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},$t={class:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800"},It={class:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300"},Vt={class:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300"},At={class:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300"},Tt={class:"px-6 py-4"},Ft={class:"whitespace-nowrap px-6 py-4 text-sm"},Ot={class:"flex items-center gap-2"},jt=["onClick"],Bt=["onClick"],Ht=["onClick"],Jt=me({__name:"MolekulisLoading",setup(ae){const p=Ve(),n=i(""),O=i([]),x=i(""),w=i(""),k=i(""),j=v(()=>[{value:"Hyvolt I",label:"Hyvolt I"},{value:"Hyvol III",label:"Hyvol III"}]),G=v(()=>O.value.map(r=>({value:r,label:r}))),M=(r,t)=>{if(!r||!t)return null;const[a,s,c]=r.split("-").map(F=>parseInt(F)),[z,R]=t.split(":").map(F=>parseInt(F));return!a||!s||!c||z===void 0||R===void 0?null:new Date(a,s-1,c,z,R,0,0)},B=v(()=>{const r=M(n.value,w.value),t=M(n.value,k.value);if(!r||!t)return"0.00";const a=t.getTime()-r.getTime();return a>0?(a/36e5).toFixed(2):"0.00"}),q={enableTime:!1,dateFormat:"Y-m-d",altInput:!0,altFormat:"F j, Y",locale:{firstDayOfWeek:1}},l={enableTime:!0,noCalendar:!0,dateFormat:"H:i",altInput:!0,altFormat:"h:i K",time_24hr:!0,minuteIncrement:15},o={enableTime:!0,noCalendar:!0,dateFormat:"H:i",altInput:!0,altFormat:"H:i",time_24hr:!0,minuteIncrement:15},u=i({time:"",product:""}),d=i([]),y=r=>{const t=r.split(":");if(t.length!==2)return-1;const a=parseInt(t[0]),s=parseInt(t[1]);return Number.isNaN(a)||Number.isNaN(s)?-1:a*60+s},H=()=>{if(!d.value.length)return!0;let r=y(d.value[0].time);for(let t=1;t<d.value.length;t++){const a=y(d.value[t].time);if(a<r)return!1;r=a}return!0},N=()=>{if(!u.value.time||!u.value.product){p.warning("Select time and product to add a load");return}if(d.value.length){const r=d.value[d.value.length-1],t=y(r.time),a=y(u.value.time);if(a<0||t<0){p.error("Invalid time format");return}if(a<t){p.warning("Loads must be in chronological order");return}}d.value.push({time:u.value.time,product:u.value.product}),u.value={time:"",product:""}},P=r=>{d.value.splice(r,1)},J=()=>{u.value={time:"",product:""},d.value=[],n.value="",x.value="",w.value="",k.value="",L.value=!1,C.value=!1,U.value=""},D=i(!1),C=i(!1),U=i(""),pe=async()=>{if(console.debug("[ML] handleSubmit: invoked, isSubmitting=",D.value),D.value){console.debug("[ML] handleSubmit: blocked (already submitting)");return}if(D.value=!0,!Se()){D.value=!1;return}try{const r=M(n.value,w.value),t=M(n.value,k.value),a={when:n.value,who:x.value,startAt:r?r.toISOString():"",endAt:t?t.toISOString():"",loads:d.value.map(c=>({time:c.time,product:c.product}))};console.debug("[ML] handleSubmit: payload",a);const s=C.value&&U.value?await Ne(U.value,a):await Pe(a);console.debug("[ML] handleSubmit: response",s),s.success?(p.success(C.value?"Loading updated":"Loading created"),J(),C.value||(f.value=1),await $().catch(()=>{})):p.error(s.message||"Failed to create")}catch(r){console.error("[ML] handleSubmit: exception",r),p.error(C.value?"Failed to update":"Failed to create")}finally{console.debug("[ML] handleSubmit: finalize -> set isSubmitting=false"),D.value=!1}},re=i([]),f=i(1),A=i(10),E=i(0),T=i(0),ye=v(()=>E.value===0?0:(f.value-1)*A.value+1),fe=v(()=>Math.min(f.value*A.value,E.value)),Q=i(!1),$=async()=>{if(!Q.value)try{Q.value=!0;const r=Math.min(A.value,50),t=await Ue({page:f.value,limit:r,sortBy:"when",sortOrder:"desc"});t.success&&t.data&&(re.value=t.data,E.value=t.total??t.count??0,T.value=t.pages??Math.ceil((t.total??0)/r))}catch{}finally{Q.value=!1}},be=()=>{f.value=1,$()},xe=()=>{f.value>1&&(f.value--,$())},ke=()=>{f.value<T.value&&(f.value++,$())};Ae(async()=>{const r=await Be.getSamplers(!0);r.success&&r.data&&(O.value=r.data.map(t=>t.name)),await $()});const he=()=>{J()},L=i(!1),oe=v(()=>!n.value),se=v(()=>!x.value),le=v(()=>!w.value),ne=v(()=>!k.value),we=v(()=>d.value.length>0),Se=()=>(L.value=!0,oe.value||se.value||le.value||ne.value||!we.value?(p.warning("Please complete required fields: When, Who, Start, End, and at least one Load"),!1):H()?!0:(p.warning("Loads must be in chronological order"),!1)),_e=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),de=r=>{if(r.status)return r.status;const t=new Date,a=r.startAt?new Date(r.startAt):null,s=r.endAt?new Date(r.endAt):null;return a&&t<a?"pending":a&&s&&t>=a&&t<=s?"in-progress":s&&t>s?"completed":"pending"},Ce=r=>r==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":r==="in-progress"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400",Le=r=>{C.value=!0,U.value=r._id;const t=s=>{if(!s)return"";if(s.includes("T")){const c=new Date(s),z=c.getFullYear(),R=String(c.getMonth()+1).padStart(2,"0"),F=String(c.getDate()).padStart(2,"0");return`${z}-${R}-${F}`}return s},a=s=>{if(!s)return"";const c=new Date(s);return`${String(c.getHours()).padStart(2,"0")}:${String(c.getMinutes()).padStart(2,"0")}`};n.value=t(r.when),x.value=r.who||"",w.value=a(r.startAt),k.value=a(r.endAt),d.value=(r.loads||[]).map(s=>({time:s.time,product:s.product})),L.value=!1},Me=async r=>{try{const t=await Ee(r._id);t.success?(p.success("Loading deleted"),await $()):p.error(t.message||"Failed to delete")}catch{p.error("Failed to delete")}},X=i(!1),ie=i(null),De=r=>{ie.value=r,X.value=!0},I=i(!1),W=i(null),$e=r=>{W.value=r,I.value=!0},Ie=async()=>{if(!W.value){I.value=!1;return}await Me(W.value),I.value=!1,W.value=null};return(r,t)=>(b(),Z(We,null,{default:S(()=>[m(ze,{pageTitle:"Molekulis Loading"}),e("div",lt,[m(ue,{title:"New Load",description:"Register up to 4 loads for the same day"},{default:S(()=>[e("div",nt,[e("form",{class:"space-y-6",onKeydown:t[6]||(t[6]=Te(Fe(()=>{},["prevent"]),["enter"]))},[e("div",dt,[e("div",it,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"},"When",-1)),m(h(Y),{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=a=>n.value=a),config:q,class:V(["h-11 w-full md:w-60 appearance-none rounded-lg border bg-white px-4 py-2.5 text-sm text-gray-900 focus:outline-hidden focus:ring-3 dark:bg-gray-800 dark:text-white",L.value&&oe.value?"border-red-500 focus:ring-red-500/20 dark:border-red-600":"border-gray-300 focus:border-brand-300 focus:ring-brand-500/10 dark:border-gray-700 dark:focus:border-brand-800"]),placeholder:"Select date"},null,8,["modelValue","class"])])]),e("div",null,[t[14]||(t[14]=e("div",{class:"flex items-center justify-between mb-2"},[e("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Load")],-1)),e("div",ut,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"},"Time",-1)),m(h(Y),{modelValue:u.value.time,"onUpdate:modelValue":t[1]||(t[1]=a=>u.value.time=a),config:l,class:"h-11 w-full appearance-none rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-sm text-gray-900 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:focus:border-brand-800",placeholder:"Select time"},null,8,["modelValue"])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"},"Product",-1)),m(ce,{modelValue:u.value.product,"onUpdate:modelValue":t[2]||(t[2]=a=>u.value.product=a),options:j.value,placeholder:"Select product"},null,8,["modelValue","options"])]),e("div",{class:"md:col-span-2 flex items-end"},[e("button",{type:"button",onClick:N,class:"inline-flex items-center gap-2 rounded-lg border border-gray-300 px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700"},t[13]||(t[13]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),ve(" Add Load ")]))])])]),d.value.length?(b(),_("div",gt,[t[16]||(t[16]=e("div",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Loads Added",-1)),e("ul",ct,[(b(!0),_(te,null,ee(d.value,(a,s)=>(b(),_("li",{key:s,class:"flex items-center justify-between rounded-md border border-gray-200 px-3 py-2 text-sm dark:border-gray-700"},[e("span",mt,"L"+g(s+1)+" — "+g(a.product)+" at "+g(a.time),1),e("button",{type:"button",onClick:c=>P(s),class:"rounded p-1 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20",title:"Remove"},t[15]||(t[15]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,vt)]))),128))])])):K("",!0),e("div",pt,[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"},"Who",-1)),e("div",{class:V(L.value&&se.value?"[&>*]:!border-red-500 [&>*]:focus:!ring-red-500/20 dark:[&>*]:!border-red-600":"")},[m(ce,{modelValue:x.value,"onUpdate:modelValue":t[3]||(t[3]=a=>x.value=a),options:G.value,placeholder:"Select sampler"},null,8,["modelValue","options"])],2)]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"},"Start",-1)),m(h(Y),{modelValue:w.value,"onUpdate:modelValue":t[4]||(t[4]=a=>w.value=a),config:o,class:V(["h-11 w-full appearance-none rounded-lg border bg-white px-4 py-2.5 text-sm text-gray-900 focus:outline-hidden focus:ring-3 dark:border-gray-700 dark:bg-gray-800 dark:text-white",L.value&&le.value?"border-red-500 focus:ring-red-500/20 dark:border-red-600":"border-gray-300 focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800"]),placeholder:"Select time"},null,8,["modelValue","class"])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"},"End",-1)),m(h(Y),{modelValue:k.value,"onUpdate:modelValue":t[5]||(t[5]=a=>k.value=a),config:o,class:V(["h-11 w-full appearance-none rounded-lg border bg-white px-4 py-2.5 text-sm text-gray-900 focus:outline-hidden focus:ring-3 dark:border-gray-700 dark:bg-gray-800 dark:text-white",L.value&&ne.value?"border-red-500 focus:ring-red-500/20 dark:border-red-600":"border-gray-300 focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800"]),placeholder:"Select time"},null,8,["modelValue","class"])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"},"Total Hours",-1)),e("input",{value:B.value,disabled:"",class:"h-11 w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-2.5 text-sm text-gray-700 cursor-not-allowed dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300"},null,8,yt)])]),e("div",ft,[e("div",bt,[e("button",{type:"button",onClick:pe,disabled:D.value,class:"rounded-lg bg-brand-500 px-6 py-2.5 text-white font-medium hover:bg-brand-600 disabled:opacity-50 disabled:cursor-not-allowed"},g(C.value?"Update":"Save"),9,xt),C.value?(b(),_("button",{key:0,type:"button",class:"rounded-lg bg-orange-500 px-6 py-2.5 text-white font-medium hover:bg-orange-600",onClick:he},"Cancel Edit")):K("",!0),e("button",{type:"button",class:"rounded-lg bg-gray-200 px-6 py-2.5 text-gray-900 font-medium hover:bg-gray-300 dark:bg-gray-700 dark:text-white",onClick:J},"Reset")])])],32)])]),_:1}),m(ue,{title:"Loads",description:"Recent records"},{default:S(()=>[e("div",kt,[e("div",ht,[e("div",wt,[t[22]||(t[22]=e("span",null,"Rows per page:",-1)),Oe(e("select",{class:"rounded-md border border-gray-300 bg-white px-2 py-1 text-sm text-gray-900 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:focus:border-brand-800","onUpdate:modelValue":t[7]||(t[7]=a=>A.value=a),onChange:be},t[21]||(t[21]=[e("option",{value:10},"10",-1),e("option",{value:25},"25",-1),e("option",{value:50},"50",-1)]),544),[[je,A.value,void 0,{number:!0}]])]),e("div",St,[e("span",null,"Showing "+g(ye.value)+"–"+g(fe.value)+" of "+g(E.value),1),e("div",_t,[e("button",{class:"rounded-md px-2 py-1 border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 dark:border-gray-600 dark:text-gray-300",disabled:f.value===1,onClick:xe},"‹",8,Ct),e("span",Lt,"Page "+g(f.value)+" / "+g(T.value),1),e("button",{class:"rounded-md px-2 py-1 border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 dark:border-gray-600 dark:text-gray-300",disabled:f.value===T.value||T.value===0,onClick:ke},"›",8,Mt)])])]),e("table",Dt,[t[26]||(t[26]=e("thead",{class:"bg-gray-50 dark:bg-gray-900"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700 dark:text-gray-300"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700 dark:text-gray-300"},"Loads"),e("th",{class:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700 dark:text-gray-300"},"Surveyor"),e("th",{class:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700 dark:text-gray-300"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700 dark:text-gray-300"},"Actions")])],-1)),e("tbody",$t,[(b(!0),_(te,null,ee(re.value,a=>{var s;return b(),_("tr",{key:a._id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},[e("td",It,g(a.when?_e(a.when):"-"),1),e("td",Vt,g((s=a.loads)!=null&&s.length?"L"+a.loads.length:"-"),1),e("td",At,g(a.who||"-"),1),e("td",Tt,[e("span",{class:V(["inline-flex rounded-full px-2.5 py-0.5 text-xs font-medium",Ce(de(a))])},g(de(a)),3)]),e("td",Ft,[e("div",Ot,[e("button",{onClick:c=>De(a),class:"rounded-lg p-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 transition-all duration-200",title:"View"},t[23]||(t[23]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,jt),e("button",{onClick:c=>Le(a),class:"rounded-lg p-2 text-green-600 hover:bg-green-50 dark:text-green-400 dark:hover:bg-green-900/20 transition-all duration-200",title:"Edit"},t[24]||(t[24]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,Bt),e("button",{onClick:c=>$e(a),class:"rounded-lg p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 transition-all duration-200",title:"Delete"},t[25]||(t[25]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Ht)])])])}),128))])])])]),_:1})]),m(st,{isOpen:X.value,item:ie.value,onClose:t[8]||(t[8]=a=>X.value=!1)},null,8,["isOpen","item"]),I.value?(b(),Z(He,{key:0,isOpen:I.value,title:"Delete Loading",message:"Are you sure you want to delete this loading? This action cannot be undone.",variant:"danger",confirmText:"Delete",onClose:t[9]||(t[9]=a=>I.value=!1),onConfirm:Ie},null,8,["isOpen"])):K("",!0)]),_:1}))}});export{Jt as default};
