var $=Object.defineProperty;var E=(d,e,a)=>e in d?$(d,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):d[e]=a;var u=(d,e,a)=>E(d,typeof e!="symbol"?e+"":e,a);import{s as c,d as M,a as y,l as b,p as g,f as m,u as p,e as l,n as f,E as C,g as k,t as h}from"./index-BEwWJCfq.js";import{W as w,I as _}from"./InfoCircleIcon-BcdoysoI.js";import{Y as A,h as x,G as U,V as T,S as F}from"./transition-BQFT3kHB.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";class D{constructor(){u(this,"baseUrl","/dropdowns");u(this,"cache",new Map);u(this,"CACHE_DURATION",5*60*1e3)}invalidateCache(e,a=!1){const o=`${e}-${a}`;this.cache.delete(o)}invalidateAllForType(e){for(const a of this.cache.keys())a.startsWith(`${e}-`)&&this.cache.delete(a)}clearCache(){this.cache.clear()}async getAll(e,a=!1){var o,r;try{const s=a?{includeInactive:"true"}:{},t=`${e}-${a}`,n=this.cache.get(t);if(n&&Date.now()-n.timestamp<this.CACHE_DURATION)return{success:!0,data:n.data};const i=await c.get(`${this.baseUrl}/${e}`,{params:s});return i.data.success&&this.cache.set(t,{data:i.data.data,timestamp:Date.now()}),i.data}catch(s){const t=s instanceof Error?s.message:"Unknown error";return{success:!1,message:((r=(o=s.response)==null?void 0:o.data)==null?void 0:r.message)||`Failed to fetch ${e}`,error:t}}}async getById(e,a){var o,r;try{return(await c.get(`${this.baseUrl}/${e}/${a}`)).data}catch(s){const t=s instanceof Error?s.message:"Unknown error";return{success:!1,message:((r=(o=s.response)==null?void 0:o.data)==null?void 0:r.message)||`Failed to fetch ${e} item`,error:t}}}async create(e,a,o){var r,s;try{const t={name:a,...o},n=await c.post(`${this.baseUrl}/${e}`,t);return n.data.success&&this.invalidateAllForType(e),n.data}catch(t){const n=t instanceof Error?t.message:"Unknown error";return{success:!1,message:((s=(r=t.response)==null?void 0:r.data)==null?void 0:s.message)||`Failed to create ${e}`,error:n}}}async update(e,a,o){var r,s;try{const t=await c.put(`${this.baseUrl}/${e}/${a}`,o);return t.data.success&&this.invalidateAllForType(e),t.data}catch(t){const n=t instanceof Error?t.message:"Unknown error";return{success:!1,message:((s=(r=t.response)==null?void 0:r.data)==null?void 0:s.message)||`Failed to update ${e}`,error:n}}}async delete(e,a){var o,r;try{const s=await c.delete(`${this.baseUrl}/${e}/${a}`);return s.data.success&&this.invalidateAllForType(e),s.data}catch(s){const t=s instanceof Error?s.message:"Unknown error";return{success:!1,message:((r=(o=s.response)==null?void 0:o.data)==null?void 0:r.message)||`Failed to delete ${e}`,error:t}}}async permanentDelete(e,a){var o,r;try{return(await c.delete(`${this.baseUrl}/${e}/${a}/permanent`)).data}catch(s){const t=s instanceof Error?s.message:"Unknown error";return{success:!1,message:((r=(o=s.response)==null?void 0:o.data)==null?void 0:r.message)||`Failed to permanently delete ${e}`,error:t}}}async getAgents(e=!1){return this.getAll("agents",e)}async getBerths(e=!1){return this.getAll("berths",e)}async getChemists(e=!1){return this.getAll("chemists",e)}async getSamplers(e=!1){return this.getAll("samplers",e)}async getSurveyors(e=!1){return this.getAll("surveyors",e)}async getTerminals(e=!1){return this.getAll("terminals",e)}async getClients(e=!1){return this.getAll("clients",e)}async getProductTypes(e=!1){return this.getAll("product-types",e)}async createTerminal(e){var a,o;try{const r=await c.post(`${this.baseUrl}/terminals`,e);return r.data.success&&this.invalidateAllForType("terminals"),r.data}catch(r){const s=r instanceof Error?r.message:"Unknown error";return{success:!1,message:((o=(a=r.response)==null?void 0:a.data)==null?void 0:o.message)||"Failed to create terminal",error:s}}}async updateTerminal(e,a){var o,r;try{const s=await c.put(`${this.baseUrl}/terminals/${e}`,a);return s.data.success&&this.invalidateAllForType("terminals"),s.data}catch(s){const t=s instanceof Error?s.message:"Unknown error";return{success:!1,message:((r=(o=s.response)==null?void 0:o.data)==null?void 0:r.message)||"Failed to update terminal",error:t}}}async deleteTerminal(e){var a,o;try{const r=await c.delete(`${this.baseUrl}/terminals/${e}`);return r.data.success&&this.invalidateAllForType("terminals"),r.data}catch(r){const s=r instanceof Error?r.message:"Unknown error";return{success:!1,message:((o=(a=r.response)==null?void 0:a.data)==null?void 0:o.message)||"Failed to delete terminal",error:s}}}}const R=new D,I={class:"fixed inset-0 overflow-y-auto"},S={class:"flex min-h-full items-center justify-center p-4"},N={class:"px-6 pt-6 pb-4 text-center"},V={class:"text-gray-600 dark:text-gray-400 text-base leading-relaxed"},O={class:"px-6 pb-6 flex gap-3"},W=M({__name:"ConfirmationModal",props:{isOpen:{type:Boolean},title:{},message:{},variant:{default:"warning"},confirmText:{default:"Confirm"}},emits:["confirm","close"],setup(d,{emit:e}){const a=e,o={warning:{iconContainer:"bg-yellow-100 dark:bg-yellow-900/30",confirmButton:"bg-yellow-500 hover:bg-yellow-600"},danger:{iconContainer:"bg-red-100 dark:bg-red-900/30",confirmButton:"bg-red-600 hover:bg-red-700"},info:{iconContainer:"bg-blue-100 dark:bg-blue-900/30",confirmButton:"bg-blue-600 hover:bg-blue-700"}},r={warning:w,danger:w,info:_},s=()=>{a("confirm"),t()},t=()=>{a("close")};return(n,i)=>(y(),b(p(F),{show:n.isOpen,as:"template"},{default:g(()=>[m(p(A),{as:"div",class:"relative z-[99999]",onClose:t},{default:g(()=>[m(p(x),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:g(()=>i[0]||(i[0]=[l("div",{class:"fixed inset-0 bg-black/70 backdrop-blur-md transition-opacity"},null,-1)])),_:1}),l("div",I,[l("div",S,[m(p(x),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 scale-95 translate-y-4","enter-to":"opacity-100 scale-100 translate-y-0",leave:"ease-in duration-200","leave-from":"opacity-100 scale-100 translate-y-0","leave-to":"opacity-0 scale-95 translate-y-4"},{default:g(()=>[m(p(U),{class:"w-full max-w-lg transform overflow-hidden rounded-2xl bg-white dark:bg-gray-800 shadow-2xl transition-all"},{default:g(()=>[l("div",N,[l("div",{class:f(["mx-auto flex h-16 w-16 items-center justify-center rounded-full mb-4",o[n.variant].iconContainer])},[(y(),b(C(r[n.variant]),{class:"h-8 w-8"}))],2),m(p(T),{class:f(["text-2xl font-bold text-gray-900 dark:text-white mb-2"])},{default:g(()=>[k(h(n.title),1)]),_:1}),l("p",V,h(n.message),1)]),l("div",O,[l("button",{onClick:t,class:"flex-1 rounded-xl border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-6 py-3 text-base font-semibold text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 shadow-sm hover:shadow"}," Cancel "),l("button",{onClick:s,class:f(["flex-1 rounded-xl px-6 py-3 text-base font-semibold text-white transition-all duration-200 shadow-lg hover:shadow-xl",o[n.variant].confirmButton])},h(n.confirmText),3)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Y=B(W,[["__scopeId","data-v-573ba972"]]);export{Y as C,R as d};
