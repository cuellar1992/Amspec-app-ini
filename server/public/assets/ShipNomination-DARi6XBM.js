import{_ as bt}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Bo6EfaUO.js";import{_ as ft}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-DwZBASTA.js";import{_ as xt}from"./ComponentCard.vue_vue_type_script_setup_true_lang-4gcYoayb.js";import{d as Ve,x as De,r as u,c as de,K as We,a as r,b as s,f as k,p as V,u as B,e,g as Y,t as b,I as Re,n as D,h as _,w as q,z as Q,l as $e,F as I,i as ie,S as lt,U as fe,R as Ke,k as ht,o as nt,v as kt}from"./index-BEwWJCfq.js";import{_ as ot}from"./MultipleSelect-CvLolKdQ.js";import{_ as _e}from"./SingleSelect-DyXcDeUp.js";import{_ as Ie}from"./Button.vue_vue_type_script_setup_true_lang-DbypYvMz.js";import{C as Ye}from"./component-C085N_PL.js";import{h as wt,i as $t,j as Ct,u as _t,k as Vt}from"./shipNominationService-r03BZ3kX.js";import{C as Ze,d as N}from"./ConfirmationModal-pn1y-z0k.js";import{Y as Le,h as xe,G as Ne,V as He,S as Oe}from"./transition-BQFT3kHB.js";import{_ as Ge}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{X as St}from"./x-BBjIrXvj.js";import"./InfoCircleIcon-BcdoysoI.js";const Mt={class:"fixed inset-0 overflow-y-auto"},Tt={class:"flex min-h-full items-center justify-center p-4"},Et={class:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 px-6 py-4 bg-gradient-to-r from-brand-50 to-white dark:from-gray-800 dark:to-gray-800"},At={class:"border-b border-gray-200 dark:border-gray-700 px-6 py-4 bg-gray-50 dark:bg-gray-900/50"},Bt={key:0,class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"},Dt=["placeholder"],Rt={key:0},Lt={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},Nt=["disabled"],Ht={key:0,class:"flex items-center justify-center gap-2"},Ot={key:1},jt={class:"max-h-[500px] overflow-y-auto px-6 py-4"},Pt={key:0,class:"text-center py-12"},Ut={key:1,class:"text-center py-12"},Ft={class:"mt-3 text-gray-500 dark:text-gray-400 font-medium"},zt={class:"flex-1 min-w-0"},qt={key:0,class:"space-y-2"},It=["onKeyup"],Yt=["onKeyup"],Kt={key:0,class:"text-xs text-red-600 dark:text-red-400"},Wt=["onKeyup"],Zt={key:1,class:"flex flex-col gap-1"},Gt={class:"flex items-center gap-2"},Xt={class:"text-gray-900 dark:text-white font-medium"},Jt={key:0,class:"text-xs px-2.5 py-0.5 rounded-full bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400 font-medium"},Qt={key:0,class:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400"},er={class:"flex items-center gap-1 ml-4"},tr=["onClick","disabled"],rr=["onClick"],ar=["onClick","disabled","title"],sr={key:0,class:"h-4 w-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},or={key:1,class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},lr={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"},nr={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},dr=["onClick","disabled"],ir={key:0,class:"h-4 w-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},ur={key:1,class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},cr=Ve({__name:"ManageDropdownModal",props:{isOpen:{type:Boolean},type:{},title:{},singularTitle:{}},emits:["close","updated"],setup(ye,{emit:n}){const R=ye,H=n,E=De(),m=u([]),c=u(!1),P=u(""),M=u(""),ee=u(!1),re=u(null),F=u(""),A=u(""),se=u(!1),S=u(null),Z=u(null),te=de(()=>R.type==="chemists"||R.type==="surveyors"),G=w=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w),$=u(!1),ne=u(""),C=u(""),oe=u(null);We(()=>R.isOpen,async w=>{w&&await ae()});const ae=async()=>{c.value=!0;try{const w=await N.getAll(R.type,!0);w.success&&w.data&&(m.value=w.data)}catch(w){console.error(`Error loading ${R.type}:`,w)}finally{c.value=!1}},z=(w,i)=>{E.success(`${w}: ${i}`)},U=(w,i)=>{E.error(`${w}: ${i}`)},v=async()=>{if(P.value.trim()&&!(M.value&&!G(M.value))){ee.value=!0;try{const w=te.value&&M.value.trim()?{email:M.value.trim()}:void 0,i=await N.create(R.type,P.value.trim(),w);i.success?(P.value="",M.value="",await ae(),H("updated"),z("Success","Item added successfully")):U("Error",i.message||"Error adding item")}catch(w){console.error("Error adding item:",w),U("Error","Failed to add item")}finally{ee.value=!1}}},d=w=>{re.value=w._id,F.value=w.name,A.value=w.email||""},p=()=>{re.value=null,F.value="",A.value=""},f=async w=>{if(F.value.trim()&&!(A.value&&!G(A.value))){se.value=!0;try{const i={name:F.value.trim()};te.value&&(i.email=A.value.trim()||void 0);const x=await N.update(R.type,w,i);x.success?(p(),await ae(),H("updated"),z("Success","Item updated successfully")):U("Error",x.message||"Error updating item")}catch(i){console.error("Error updating item:",i),U("Error","Failed to update item")}finally{se.value=!1}}},O=async(w,i)=>{S.value=w;try{const x=await N.update(R.type,w,{isActive:!i});x.success?(await ae(),H("updated"),z("Success",`Item ${i?"deactivated":"activated"} successfully`)):U("Error",x.message||"Error updating status")}catch(x){console.error("Error toggling status:",x),U("Error","Failed to update status")}finally{S.value=null}},j=async(w,i)=>{oe.value={id:w,name:i},ne.value="Permanent Delete",C.value=`Are you sure you want to permanently delete "${i}"?

This action cannot be undone and will remove the item from the database.`,$.value=!0},pe=async()=>{if(!oe.value)return;const{id:w,name:i}=oe.value;Z.value=w;try{const x=await N.permanentDelete(R.type,w);x.success?(await ae(),H("updated"),z("Deleted",`"${i}" has been permanently deleted from the database`)):U("Error",x.message||"Error deleting item")}catch(x){console.error("Error permanently deleting item:",x),U("Error","Failed to permanently delete item")}finally{Z.value=null,oe.value=null}},me=()=>{p(),H("close")};return(w,i)=>(r(),s(I,null,[k(B(Oe),{show:w.isOpen,as:"template"},{default:V(()=>[k(B(Le),{as:"div",class:"relative z-50",onClose:me},{default:V(()=>[k(B(xe),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:V(()=>i[6]||(i[6]=[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity"},null,-1)])),_:1}),e("div",Mt,[e("div",Tt,[k(B(xe),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:V(()=>[k(B(Ne),{class:"w-full max-w-2xl max-h-[90vh] overflow-hidden rounded-xl bg-white dark:bg-gray-800 shadow-2xl transform transition-all"},{default:V(()=>[e("div",Et,[k(B(He),{class:"text-xl font-semibold text-gray-900 dark:text-white"},{default:V(()=>[Y(" Manage "+b(w.title),1)]),_:1}),e("button",{onClick:me,class:"rounded-lg p-2 text-gray-400 hover:bg-white/50 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-white transition-all duration-200"},i[7]||(i[7]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",At,[e("form",{onSubmit:Re(v,["prevent"])},[e("div",{class:D(te.value?"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4":"flex gap-3")},[e("div",{class:D(te.value?"":"flex-1")},[te.value?(r(),s("label",Bt,i[8]||(i[8]=[Y(" Name "),e("span",{class:"text-red-500"},"*",-1)]))):_("",!0),q(e("input",{"onUpdate:modelValue":i[0]||(i[0]=x=>P.value=x),type:"text",placeholder:`Enter new ${w.singularTitle.toLowerCase()}`,class:"w-full rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-gray-900 placeholder-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:placeholder-gray-500 dark:focus:border-brand-800 transition-all duration-200",required:""},null,8,Dt),[[Q,P.value]])],2),te.value?(r(),s("div",Rt,[i[9]||(i[9]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"}," Email ",-1)),q(e("input",{"onUpdate:modelValue":i[1]||(i[1]=x=>M.value=x),type:"email",placeholder:"email@amspec.com",class:D(["w-full rounded-lg border bg-white px-4 py-2.5 text-gray-900 placeholder-gray-400 focus:outline-hidden focus:ring-3 transition-all duration-200 dark:bg-gray-800 dark:text-white dark:placeholder-gray-500",M.value&&!G(M.value)?"border-red-500 focus:ring-red-500/20 dark:border-red-600":"border-gray-300 focus:border-brand-300 focus:ring-brand-500/10 dark:border-gray-700 dark:focus:border-brand-800"])},null,2),[[Q,M.value]]),M.value&&!G(M.value)?(r(),s("p",Lt,"Enter a valid email address")):_("",!0)])):_("",!0)],2),e("button",{type:"submit",disabled:!!(ee.value||!P.value.trim()||M.value&&!G(M.value)),class:"w-full rounded-lg bg-brand-500 px-6 py-2.5 text-white font-medium hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed dark:focus:ring-offset-gray-800 transition-all duration-200 shadow-md hover:shadow-lg"},[ee.value?(r(),s("span",Ht,i[10]||(i[10]=[e("svg",{class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Y(" Adding... ")]))):(r(),s("span",Ot,"Add"))],8,Nt)],32)]),e("div",jt,[c.value?(r(),s("div",Pt,i[11]||(i[11]=[e("div",{class:"inline-block h-10 w-10 animate-spin rounded-full border-4 border-solid border-brand-500 border-r-transparent"},null,-1),e("p",{class:"mt-3 text-gray-500 dark:text-gray-400 font-medium"},"Loading...",-1)]))):m.value.length===0?(r(),s("div",Ut,[i[12]||(i[12]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1)),e("p",Ft," No "+b(w.title.toLowerCase())+" found ",1),i[13]||(i[13]=e("p",{class:"mt-1 text-sm text-gray-400 dark:text-gray-500"}," Get started by adding one above ",-1))])):(r(),$e(lt,{key:2,name:"list",tag:"div",class:"space-y-2"},{default:V(()=>[(r(!0),s(I,null,ie(m.value,x=>(r(),s("div",{key:x._id,class:"flex items-center justify-between rounded-lg border border-gray-200 dark:border-gray-700 px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-all duration-200 hover:shadow-md group"},[e("div",zt,[re.value===x._id?(r(),s(I,{key:0},[te.value?(r(),s("div",qt,[q(e("input",{"onUpdate:modelValue":i[2]||(i[2]=K=>F.value=K),type:"text",placeholder:"Name",class:"w-full rounded-lg border border-gray-300 bg-white px-3 py-1.5 text-gray-900 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-600 dark:bg-gray-900 dark:text-white dark:focus:border-brand-800 transition-all duration-200",onKeyup:[fe(K=>f(x._id),["enter"]),fe(p,["esc"])]},null,40,It),[[Q,F.value]]),q(e("input",{"onUpdate:modelValue":i[3]||(i[3]=K=>A.value=K),type:"email",placeholder:"Email (optional)",class:D(["w-full rounded-lg border bg-white px-3 py-1.5 text-gray-900 focus:outline-hidden focus:ring-3 transition-all duration-200 dark:bg-gray-900 dark:text-white",A.value&&!G(A.value)?"border-red-500 focus:ring-red-500/20 dark:border-red-600":"border-gray-300 focus:border-brand-300 focus:ring-brand-500/10 dark:border-gray-600 dark:focus:border-brand-800"]),onKeyup:[fe(K=>f(x._id),["enter"]),fe(p,["esc"])]},null,42,Yt),[[Q,A.value]]),A.value&&!G(A.value)?(r(),s("p",Kt,"Enter a valid email address")):_("",!0)])):q((r(),s("input",{key:1,"onUpdate:modelValue":i[4]||(i[4]=K=>F.value=K),type:"text",class:"w-full rounded-lg border border-gray-300 bg-white px-3 py-1.5 text-gray-900 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-600 dark:bg-gray-900 dark:text-white dark:focus:border-brand-800 transition-all duration-200",onKeyup:[fe(K=>f(x._id),["enter"]),fe(p,["esc"])]},null,40,Wt)),[[Q,F.value]])],64)):(r(),s("div",Zt,[e("div",Gt,[e("span",Xt,b(x.name),1),x.isActive?_("",!0):(r(),s("span",Jt," Inactive "))]),te.value&&x.email?(r(),s("div",Qt,[i[14]||(i[14]=e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),Y(" "+b(x.email),1)])):_("",!0)]))]),e("div",er,[re.value===x._id?(r(),s(I,{key:0},[e("button",{onClick:K=>f(x._id),disabled:!!(se.value||A.value&&!G(A.value)),class:"rounded-lg px-3 py-1.5 text-sm bg-green-500 text-white hover:bg-green-600 disabled:opacity-50 transition-all duration-200 font-medium shadow-sm hover:shadow"}," Save ",8,tr),e("button",{onClick:p,class:"rounded-lg px-3 py-1.5 text-sm bg-gray-500 text-white hover:bg-gray-600 transition-all duration-200 font-medium shadow-sm hover:shadow"}," Cancel ")],64)):(r(),s(I,{key:1},[e("button",{onClick:K=>d(x),class:"rounded-lg p-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 transition-all duration-200",title:"Edit"},i[15]||(i[15]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,rr),e("button",{onClick:K=>O(x._id,x.isActive),disabled:S.value===x._id,class:D(["rounded-lg p-2 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all duration-200",x.isActive?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"]),title:x.isActive?"Deactivate":"Activate"},[S.value===x._id?(r(),s("svg",sr,i[16]||(i[16]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(r(),s("svg",or,[x.isActive?(r(),s("path",lr)):(r(),s("path",nr))]))],10,ar),e("button",{onClick:K=>j(x._id,x.name),disabled:Z.value===x._id,class:"rounded-lg p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 transition-all duration-200",title:"Delete Permanently"},[Z.value===x._id?(r(),s("svg",ir,i[17]||(i[17]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(r(),s("svg",ur,i[18]||(i[18]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)])))],8,dr)],64))])]))),128))]),_:1}))]),e("div",{class:"flex justify-end border-t border-gray-200 dark:border-gray-700 px-6 py-4 bg-gray-50 dark:bg-gray-900/50"},[e("button",{onClick:me,class:"rounded-lg bg-gray-200 px-5 py-2.5 text-gray-900 font-medium hover:bg-gray-300 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600 transition-all duration-200 shadow-sm hover:shadow"}," Close ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),k(Ze,{isOpen:$.value,title:ne.value,message:C.value,variant:"danger",confirmText:"Yes, delete",onConfirm:pe,onClose:i[5]||(i[5]=x=>$.value=!1)},null,8,["isOpen","title","message"])],64))}}),gr=Ge(cr,[["__scopeId","data-v-28db6d48"]]),pr={class:"fixed inset-0 overflow-y-auto"},mr={class:"flex min-h-full items-start justify-center pt-8 pb-8 px-4"},vr={class:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 px-6 py-4 bg-gradient-to-r from-brand-50 to-white dark:from-gray-800 dark:to-gray-800"},yr={class:"border-b border-gray-200 dark:border-gray-700 px-6 py-4 bg-gray-50 dark:bg-gray-900/50"},br={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},fr={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},xr={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},hr={class:"flex items-center gap-3"},kr={class:"relative inline-flex items-center cursor-pointer"},wr={class:"mb-4"},$r={class:"flex flex-wrap gap-2"},Cr=["checked","onChange"],_r=["disabled"],Vr={key:0,class:"flex items-center justify-center gap-2"},Sr={key:1},Mr={class:"max-h-[500px] overflow-y-auto px-6 py-4 pb-6 flex-1"},Tr={key:0,class:"text-center py-12"},Er={key:1,class:"text-center py-12"},Ar={key:0,class:"space-y-4"},Br={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Dr={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},Rr={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},Lr={class:"flex items-center"},Nr={class:"relative inline-flex items-center cursor-pointer"},Hr={class:"flex flex-wrap gap-2"},Or=["checked","onChange"],jr={class:"flex gap-2"},Pr=["onClick","disabled"],Ur={key:1},Fr={class:"flex items-start justify-between"},zr={class:"flex-1 space-y-2"},qr={class:"flex items-center gap-2"},Ir={class:"text-lg font-semibold text-gray-900 dark:text-white"},Yr={key:0,class:"text-xs px-2.5 py-0.5 rounded-full bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400 font-medium"},Kr={key:1,class:"text-xs px-2.5 py-0.5 rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400 font-medium"},Wr={class:"flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400"},Zr={key:0,class:"flex items-center gap-1"},Gr={key:1,class:"flex items-center gap-1"},Xr={key:0},Jr={class:"flex flex-wrap gap-1"},Qr={class:"flex items-center gap-1 ml-4"},ea=["onClick"],ta=["onClick","disabled","title"],ra={key:0,class:"h-4 w-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},aa={key:1,class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},sa={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"},oa={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},la=["onClick","disabled"],na={key:0,class:"h-4 w-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},da={key:1,class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ia=Ve({__name:"ManageSamplerModal",props:{isOpen:{type:Boolean}},emits:["close","updated"],setup(ye,{emit:n}){const R=ye,H=n,E=De(),m=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],c=[1,2,3,4,5,6,0],P=u([]),M=u(!1),ee=u(!1),re=u(null),F=u(!1),A=u(null),se=u(null),S=u(!1),Z=u(""),te=u(""),G=u(null),$=u({name:"",email:"",phone:"",has24HourRestriction:!1,restrictedDays:[]}),ne=()=>{$.value={name:"",email:"",phone:"",has24HourRestriction:!1,restrictedDays:[]}},C=u({name:"",email:"",phone:"",has24HourRestriction:!1,restrictedDays:[]});We(()=>R.isOpen,async y=>{y&&(ne(),await oe())});const oe=async()=>{M.value=!0;try{const y=await N.getAll("samplers",!0);y.success&&y.data&&(P.value=y.data)}catch(y){console.error("Error loading samplers:",y)}finally{M.value=!1}},ae=(y,a)=>{E.success(`${y}: ${a}`)},z=(y,a)=>{E.error(`${y}: ${a}`)},U=y=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y),v=/^\+61\s\d{3}\s\d{3}\s\d{3}$/,d=y=>v.test(y),p=y=>{let a=y.replace(/[^\d+]/g,"");a.startsWith("+61")||(a.startsWith("61")?a="+61"+a.slice(2):a.startsWith("0")||a.startsWith("+")?a="+61"+a.slice(1):a?a="+61"+a:a="+61");const g=a.replace("+61","").replace(/\D/g,"").slice(0,9),X=[];g.length>0&&X.push(g.slice(0,Math.min(3,g.length))),g.length>3&&X.push(g.slice(3,Math.min(6,g.length))),g.length>6&&X.push(g.slice(6,Math.min(9,g.length)));const T=X.join(" ");return T?`+61 ${T}`:"+61 "},f=y=>{y==="new"?$.value.phone=p($.value.phone||""):C.value.phone=p(C.value.phone||"")},O=(y,a)=>{const g=c[a],X=y.indexOf(g);X>-1?y.splice(X,1):y.push(g)},j=(y,a)=>{const g=c[a];return y.includes(g)},pe=y=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][y],me=async()=>{if($.value.name.trim()){if($.value.email&&!U($.value.email)){z("Invalid","Please enter a valid email");return}if($.value.phone&&!d($.value.phone)){z("Invalid","Please use phone format +61 000 000 000");return}ee.value=!0;try{const y=await N.create("samplers",$.value.name.trim());y.success&&y.data?(await N.update("samplers",y.data._id,{email:$.value.email||void 0,phone:$.value.phone||void 0,has24HourRestriction:$.value.has24HourRestriction,restrictedDays:$.value.restrictedDays}),ne(),await oe(),H("updated"),ae("Success","Sampler added successfully")):z("Error",y.message||"Error adding sampler")}catch(y){console.error("Error adding sampler:",y),z("Error","Failed to add sampler")}finally{ee.value=!1}}},w=y=>{re.value=y._id,C.value={name:y.name,email:y.email||"",phone:y.phone||"",has24HourRestriction:y.has24HourRestriction,restrictedDays:[...y.restrictedDays]}},i=()=>{re.value=null,C.value={name:"",email:"",phone:"",has24HourRestriction:!1,restrictedDays:[]}},x=async y=>{if(C.value.name.trim()){if(C.value.email&&!U(C.value.email)){z("Invalid","Please enter a valid email");return}if(C.value.phone&&!d(C.value.phone)){z("Invalid","Please use phone format +61 000 000 000");return}F.value=!0;try{const a=await N.update("samplers",y,{name:C.value.name.trim(),email:C.value.email||void 0,phone:C.value.phone||void 0,has24HourRestriction:C.value.has24HourRestriction,restrictedDays:C.value.restrictedDays});a.success?(i(),await oe(),H("updated"),ae("Success","Sampler updated successfully")):z("Error",a.message||"Error updating sampler")}catch(a){console.error("Error updating sampler:",a),z("Error","Failed to update sampler")}finally{F.value=!1}}},K=async(y,a)=>{A.value=y;try{const g=await N.update("samplers",y,{isActive:!a});g.success?(await oe(),H("updated"),ae("Success",`Sampler ${a?"deactivated":"activated"} successfully`)):z("Error",g.message||"Error updating status")}catch(g){console.error("Error toggling status:",g),z("Error","Failed to update status")}finally{A.value=null}},be=async(y,a)=>{G.value={id:y,name:a},Z.value="Permanent Delete",te.value=`Are you sure you want to permanently delete "${a}"?

This action cannot be undone and will remove the sampler from the database.`,S.value=!0},ge=async()=>{if(!G.value)return;const{id:y,name:a}=G.value;se.value=y;try{const g=await N.permanentDelete("samplers",y);g.success?(await oe(),H("updated"),ae("Deleted",`"${a}" has been permanently deleted from the database`)):z("Error",g.message||"Error deleting sampler")}catch(g){console.error("Error permanently deleting sampler:",g),z("Error","Failed to permanently delete sampler")}finally{se.value=null,G.value=null}},Se=()=>{i(),ne(),H("close")};return(y,a)=>(r(),s(I,null,[k(B(Oe),{show:y.isOpen,as:"template"},{default:V(()=>[k(B(Le),{as:"div",class:"relative z-[100000]",onClose:Se},{default:V(()=>[k(B(xe),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:V(()=>a[11]||(a[11]=[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity"},null,-1)])),_:1}),e("div",pr,[e("div",mr,[k(B(xe),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:V(()=>[k(B(Ne),{class:"w-full max-w-4xl max-h-[calc(100vh-4rem)] overflow-hidden flex flex-col rounded-xl bg-white dark:bg-gray-800 shadow-2xl transform transition-all"},{default:V(()=>[e("div",vr,[k(B(He),{class:"text-xl font-semibold text-gray-900 dark:text-white"},{default:V(()=>a[12]||(a[12]=[Y(" Manage Samplers ")])),_:1}),e("button",{onClick:Se,class:"rounded-lg p-2 text-gray-400 hover:bg-white/50 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-white transition-all duration-200"},a[13]||(a[13]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",yr,[e("form",{onSubmit:Re(me,["prevent"])},[e("div",br,[e("div",null,[a[14]||(a[14]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"},[Y(" Name "),e("span",{class:"text-red-500"},"*")],-1)),q(e("input",{"onUpdate:modelValue":a[0]||(a[0]=g=>$.value.name=g),type:"text",placeholder:"Enter sampler name",required:"",class:"w-full rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-gray-900 placeholder-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:placeholder-gray-500 dark:focus:border-brand-800 transition-all duration-200"},null,512),[[Q,$.value.name]])]),e("div",null,[a[15]||(a[15]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"}," Email ",-1)),q(e("input",{"onUpdate:modelValue":a[1]||(a[1]=g=>$.value.email=g),type:"email",placeholder:"sampler@amspec.com",class:D(["w-full rounded-lg border bg-white px-4 py-2.5 text-gray-900 placeholder-gray-400 focus:outline-hidden focus:ring-3 transition-all duration-200 dark:bg-gray-800 dark:text-white dark:placeholder-gray-500",$.value.email&&!U($.value.email)?"border-red-500 focus:ring-red-500/20 dark:border-red-600":"border-gray-300 focus:border-brand-300 focus:ring-brand-500/10 dark:border-gray-700 dark:focus:border-brand-800"])},null,2),[[Q,$.value.email]]),$.value.email&&!U($.value.email)?(r(),s("p",fr,"Enter a valid email address")):_("",!0)]),e("div",null,[a[16]||(a[16]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"}," Phone ",-1)),q(e("input",{"onUpdate:modelValue":a[2]||(a[2]=g=>$.value.phone=g),type:"tel",placeholder:"+61 400 000 000",onInput:a[3]||(a[3]=g=>f("new")),class:D(["w-full rounded-lg border bg-white px-4 py-2.5 text-gray-900 placeholder-gray-400 focus:outline-hidden focus:ring-3 transition-all duration-200 dark:bg-gray-800 dark:text-white dark:placeholder-gray-500",$.value.phone&&!d($.value.phone)?"border-red-500 focus:ring-red-500/20 dark:border-red-600":"border-gray-300 focus:border-brand-300 focus:ring-brand-500/10 dark:border-gray-700 dark:focus:border-brand-800"])},null,34),[[Q,$.value.phone]]),$.value.phone&&!d($.value.phone)?(r(),s("p",xr,"Use format +61 000 000 000")):_("",!0)]),e("div",hr,[e("label",kr,[q(e("input",{"onUpdate:modelValue":a[4]||(a[4]=g=>$.value.has24HourRestriction=g),type:"checkbox",class:"sr-only peer"},null,512),[[Ke,$.value.has24HourRestriction]]),a[17]||(a[17]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-300 dark:peer-focus:ring-brand-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-brand-600 dark:peer-checked:bg-brand-600"},null,-1)),a[18]||(a[18]=e("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-white"}," 24-Hour Restriction ",-1))])])]),e("div",wr,[a[19]||(a[19]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"}," Restricted Days (days sampler cannot work) ",-1)),e("div",$r,[(r(),s(I,null,ie(m,(g,X)=>e("label",{key:X,class:D(["flex items-center px-4 py-2 rounded-lg border cursor-pointer transition-all duration-200",j($.value.restrictedDays,X)?"bg-red-500 border-red-500 text-white":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-700"])},[e("input",{type:"checkbox",checked:j($.value.restrictedDays,X),onChange:T=>O($.value.restrictedDays,X),class:"sr-only"},null,40,Cr),Y(" "+b(g),1)],2)),64))])]),e("button",{type:"submit",disabled:ee.value||!$.value.name.trim(),class:"w-full rounded-lg bg-brand-500 px-6 py-2.5 text-white font-medium hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed dark:focus:ring-offset-gray-800 transition-all duration-200 shadow-md hover:shadow-lg"},[ee.value?(r(),s("span",Vr,a[20]||(a[20]=[e("svg",{class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Y(" Adding Sampler... ")]))):(r(),s("span",Sr,"Add Sampler"))],8,_r)],32)]),e("div",Mr,[M.value?(r(),s("div",Tr,a[21]||(a[21]=[e("div",{class:"inline-block h-10 w-10 animate-spin rounded-full border-4 border-solid border-brand-500 border-r-transparent"},null,-1),e("p",{class:"mt-3 text-gray-500 dark:text-gray-400 font-medium"},"Loading samplers...",-1)]))):P.value.length===0?(r(),s("div",Er,a[22]||(a[22]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1),e("p",{class:"mt-3 text-gray-500 dark:text-gray-400 font-medium"},"No samplers found",-1),e("p",{class:"mt-1 text-sm text-gray-400 dark:text-gray-500"}," Get started by adding one above ",-1)]))):(r(),$e(lt,{key:2,name:"list",tag:"div",class:"space-y-3"},{default:V(()=>[(r(!0),s(I,null,ie(P.value,(g,X)=>(r(),s("div",{key:g._id,class:"rounded-lg border border-gray-200 dark:border-gray-700 p-4 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-all duration-200 hover:shadow-md",style:ht(X===P.value.length-1?"margin-bottom: 1rem;":"")},[re.value===g._id?(r(),s("div",Ar,[e("div",Br,[e("div",null,[a[23]||(a[23]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"}," Name * ",-1)),q(e("input",{"onUpdate:modelValue":a[5]||(a[5]=T=>C.value.name=T),type:"text",class:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-600 dark:bg-gray-900 dark:text-white dark:focus:border-brand-800 transition-all duration-200"},null,512),[[Q,C.value.name]])]),e("div",null,[a[24]||(a[24]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"}," Email ",-1)),q(e("input",{"onUpdate:modelValue":a[6]||(a[6]=T=>C.value.email=T),type:"email",class:D(["w-full rounded-lg border bg-white px-3 py-2 text-gray-900 focus:outline-hidden focus:ring-3 transition-all duration-200 dark:bg-gray-900 dark:text-white",C.value.email&&!U(C.value.email)?"border-red-500 focus:ring-red-500/20 dark:border-red-600":"border-gray-300 focus:border-brand-300 focus:ring-brand-500/10 dark:border-gray-600 dark:focus:border-brand-800"])},null,2),[[Q,C.value.email]]),C.value.email&&!U(C.value.email)?(r(),s("p",Dr,"Enter a valid email address")):_("",!0)]),e("div",null,[a[25]||(a[25]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"}," Phone ",-1)),q(e("input",{"onUpdate:modelValue":a[7]||(a[7]=T=>C.value.phone=T),type:"tel",onInput:a[8]||(a[8]=T=>f("edit")),class:D(["w-full rounded-lg border bg-white px-3 py-2 text-gray-900 focus:outline-hidden focus:ring-3 transition-all duration-200 dark:bg-gray-900 dark:text-white",C.value.phone&&!d(C.value.phone)?"border-red-500 focus:ring-red-500/20 dark:border-red-600":"border-gray-300 focus:border-brand-300 focus:ring-brand-500/10 dark:border-gray-600 dark:focus:border-brand-800"])},null,34),[[Q,C.value.phone]]),C.value.phone&&!d(C.value.phone)?(r(),s("p",Rr,"Use format +61 000 000 000")):_("",!0)]),e("div",Lr,[e("label",Nr,[q(e("input",{"onUpdate:modelValue":a[9]||(a[9]=T=>C.value.has24HourRestriction=T),type:"checkbox",class:"sr-only peer"},null,512),[[Ke,C.value.has24HourRestriction]]),a[26]||(a[26]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-300 dark:peer-focus:ring-brand-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-brand-600 dark:peer-checked:bg-brand-600"},null,-1)),a[27]||(a[27]=e("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-white"}," 24-Hour Restriction ",-1))])])]),e("div",null,[a[28]||(a[28]=e("label",{class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"}," Restricted Days ",-1)),e("div",Hr,[(r(),s(I,null,ie(m,(T,Ce)=>e("label",{key:Ce,class:D(["flex items-center px-3 py-1.5 text-sm rounded-lg border cursor-pointer transition-all duration-200",j(C.value.restrictedDays,Ce)?"bg-red-500 border-red-500 text-white":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-700"])},[e("input",{type:"checkbox",checked:j(C.value.restrictedDays,Ce),onChange:Te=>O(C.value.restrictedDays,Ce),class:"sr-only"},null,40,Or),Y(" "+b(T),1)],2)),64))])]),e("div",jr,[e("button",{onClick:T=>x(g._id),disabled:F.value,class:"flex-1 rounded-lg px-4 py-2 text-sm bg-green-500 text-white hover:bg-green-600 disabled:opacity-50 transition-all duration-200 font-medium shadow-sm hover:shadow"}," Save Changes ",8,Pr),e("button",{onClick:i,class:"flex-1 rounded-lg px-4 py-2 text-sm bg-gray-500 text-white hover:bg-gray-600 transition-all duration-200 font-medium shadow-sm hover:shadow"}," Cancel ")])])):(r(),s("div",Ur,[e("div",Fr,[e("div",zr,[e("div",qr,[e("h4",Ir,b(g.name),1),g.isActive?_("",!0):(r(),s("span",Yr," Inactive ")),g.has24HourRestriction?(r(),s("span",Kr," 24h Restriction ")):_("",!0)]),e("div",Wr,[g.email?(r(),s("div",Zr,[a[29]||(a[29]=e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),Y(" "+b(g.email),1)])):_("",!0),g.phone?(r(),s("div",Gr,[a[30]||(a[30]=e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),Y(" "+b(g.phone),1)])):_("",!0)]),g.restrictedDays&&g.restrictedDays.length>0?(r(),s("div",Xr,[a[31]||(a[31]=e("p",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Cannot work on: ",-1)),e("div",Jr,[(r(!0),s(I,null,ie(g.restrictedDays,T=>(r(),s("span",{key:T,class:"text-xs px-2 py-1 rounded bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"},b(c.indexOf(T)!==-1?m[c.indexOf(T)]:pe(T)),1))),128))])])):_("",!0)]),e("div",Qr,[e("button",{onClick:T=>w(g),class:"rounded-lg p-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 transition-all duration-200",title:"Edit"},a[32]||(a[32]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,ea),e("button",{onClick:T=>K(g._id,g.isActive),disabled:A.value===g._id,class:D(["rounded-lg p-2 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all duration-200",g.isActive?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"]),title:g.isActive?"Deactivate":"Activate"},[A.value===g._id?(r(),s("svg",ra,a[33]||(a[33]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(r(),s("svg",aa,[g.isActive?(r(),s("path",sa)):(r(),s("path",oa))]))],10,ta),e("button",{onClick:T=>be(g._id,g.name),disabled:se.value===g._id,class:"rounded-lg p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 transition-all duration-200",title:"Delete Permanently"},[se.value===g._id?(r(),s("svg",na,a[34]||(a[34]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(r(),s("svg",da,a[35]||(a[35]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)])))],8,la)])])]))],4))),128))]),_:1}))]),e("div",{class:"flex justify-end border-t border-gray-200 dark:border-gray-700 px-6 py-4 bg-gray-50 dark:bg-gray-900/50"},[e("button",{onClick:Se,class:"rounded-lg bg-gray-200 px-5 py-2.5 text-gray-900 font-medium hover:bg-gray-300 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600 transition-all duration-200 shadow-sm hover:shadow"}," Close ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),k(Ze,{isOpen:S.value,title:Z.value,message:te.value,variant:"danger",confirmText:"Yes, delete",onConfirm:ge,onClose:a[10]||(a[10]=g=>S.value=!1)},null,8,["isOpen","title","message"])],64))}}),ua=Ge(ia,[["__scopeId","data-v-690cd597"]]),ca={class:"fixed inset-0 overflow-y-auto"},ga={class:"flex min-h-full items-center justify-center p-4"},pa={class:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 px-6 py-4 bg-gradient-to-r from-brand-50 to-white dark:from-gray-800 dark:to-gray-800"},ma={class:"border-b border-gray-200 dark:border-gray-700 px-6 py-4 bg-gray-50 dark:bg-gray-900/50"},va={class:"flex gap-3"},ya=["disabled"],ba={key:0},fa={key:1},xa={key:0,class:"space-y-3"},ha={class:"flex items-center gap-3"},ka={class:"text-sm text-gray-600 dark:text-gray-400"},wa={class:"flex flex-wrap gap-2 items-center"},$a={class:"flex flex-wrap gap-2"},Ca=["value"],_a={class:"text-sm font-medium"},Va={class:"max-h-[500px] overflow-y-auto px-6 py-4"},Sa={key:0,class:"text-center py-12"},Ma={key:1,class:"text-center py-12"},Ta={key:2,class:"space-y-3"},Ea={class:"flex items-start justify-between mb-3"},Aa={class:"flex-1 min-w-0"},Ba=["onKeyup"],Da={key:1,class:"flex items-center gap-2"},Ra={class:"text-lg font-semibold text-gray-900 dark:text-white"},La={key:0,class:"text-xs px-2.5 py-0.5 rounded-full bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400 font-medium"},Na={class:"flex items-center gap-1 ml-4"},Ha=["onClick","disabled"],Oa=["onClick"],ja=["onClick","disabled"],Pa={class:"border-t border-gray-200 dark:border-gray-700 pt-3 space-y-3"},Ua={class:"flex items-center gap-3"},Fa=["onClick"],za={class:"text-sm text-gray-600 dark:text-gray-400"},qa={class:"flex flex-wrap gap-2"},Ia=["value","checked","onChange"],Ya={class:"text-sm font-medium"},Ka={key:0,class:"text-sm text-gray-500 dark:text-gray-400 italic"},Wa=Ve({__name:"ManageTerminalModal",props:{isOpen:{type:Boolean}},emits:["close","updated"],setup(ye,{emit:n}){const R=ye,H=n,E=De(),m=u([]),c=u([]),P=u(!1),M=u(!1),ee=u(!1),re=u(null),F=u(null),A=u(""),se=u([]),S=u({name:"",berths:[],requiresLineSampling:!1}),Z=async()=>{P.value=!0;try{const v=await N.getTerminals();v.success&&v.data&&(m.value=v.data.map(d=>({_id:d._id,name:d.name,berths:d.berths||[],requiresLineSampling:d.requiresLineSampling||!1,isActive:d.isActive!==void 0?d.isActive:!0})))}catch(v){console.error("Error loading terminals:",v),E.error("Failed to load terminals")}finally{P.value=!1}},te=async()=>{try{const v=await N.getBerths();v.success&&v.data&&(c.value=v.data.filter(d=>d.isActive))}catch(v){console.error("Error loading berths:",v)}},G=async()=>{var v,d;if(S.value.name.trim()){M.value=!0;try{const p=await N.createTerminal({name:S.value.name.trim(),berths:S.value.berths,requiresLineSampling:S.value.requiresLineSampling});p.success?(E.success("Terminal added successfully"),S.value={name:"",berths:[],requiresLineSampling:!1},await Z(),H("updated")):E.error(p.message||"Failed to add terminal")}catch(p){console.error("Error adding terminal:",p),E.error(((d=(v=p.response)==null?void 0:v.data)==null?void 0:d.message)||"Failed to add terminal")}finally{M.value=!1}}},$=v=>{F.value=v._id,A.value=v.name,se.value=[...v.berths||[]]},ne=()=>{F.value=null,A.value="",se.value=[]},C=async v=>{var d,p;if(A.value.trim()){ee.value=!0;try{const f=m.value.find(j=>j._id===v),O=await N.updateTerminal(v,{name:A.value.trim(),berths:(f==null?void 0:f.berths)||[]});O.success?(E.success("Terminal updated successfully"),await Z(),ne(),H("updated")):E.error(O.message||"Failed to update terminal")}catch(f){console.error("Error updating terminal:",f),E.error(((p=(d=f.response)==null?void 0:d.data)==null?void 0:p.message)||"Failed to update terminal")}finally{ee.value=!1}}},oe=async(v,d)=>{try{const p=document.querySelector(".max-h-\\[500px\\]"),f=(p==null?void 0:p.scrollTop)||0,O=v.berths||[],j=O.includes(d)?O.filter(me=>me!==d):[...O,d],pe=await N.updateTerminal(v._id,{name:v.name,berths:j,requiresLineSampling:v.requiresLineSampling});pe.success?(await Z(),H("updated"),setTimeout(()=>{p&&(p.scrollTop=f)},0)):E.error(pe.message||"Failed to update berths")}catch(p){console.error("Error toggling berth:",p),E.error("Failed to update berths")}},ae=async v=>{try{const d=document.querySelector(".max-h-\\[500px\\]"),p=(d==null?void 0:d.scrollTop)||0,f=await N.updateTerminal(v._id,{name:v.name,berths:v.berths,requiresLineSampling:!v.requiresLineSampling});f.success?(await Z(),H("updated"),setTimeout(()=>{d&&(d.scrollTop=p)},0)):E.error(f.message||"Failed to update line sampling requirement")}catch(d){console.error("Error toggling line sampling:",d),E.error("Failed to update line sampling requirement")}},z=async v=>{var d,p;if(confirm("Are you sure you want to delete this terminal?")){re.value=v;try{const f=await N.deleteTerminal(v);f.success?(E.success("Terminal deleted successfully"),await Z(),H("updated")):E.error(f.message||"Failed to delete terminal")}catch(f){console.error("Error deleting terminal:",f),E.error(((p=(d=f.response)==null?void 0:d.data)==null?void 0:p.message)||"Failed to delete terminal")}finally{re.value=null}}},U=()=>{H("close")};return We(()=>R.isOpen,v=>{v?(Z(),te()):(ne(),S.value={name:"",berths:[],requiresLineSampling:!1})}),nt(()=>{R.isOpen&&(Z(),te())}),(v,d)=>(r(),$e(B(Oe),{show:v.isOpen,as:"template"},{default:V(()=>[k(B(Le),{as:"div",class:"relative z-50",onClose:U},{default:V(()=>[k(B(xe),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:V(()=>d[4]||(d[4]=[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity"},null,-1)])),_:1}),e("div",ca,[e("div",ga,[k(B(xe),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:V(()=>[k(B(Ne),{class:"w-full max-w-4xl max-h-[90vh] overflow-hidden rounded-xl bg-white dark:bg-gray-800 shadow-2xl transform transition-all"},{default:V(()=>[e("div",pa,[k(B(He),{class:"text-xl font-semibold text-gray-900 dark:text-white"},{default:V(()=>d[5]||(d[5]=[Y(" Manage Terminals & Berths ")])),_:1}),e("button",{onClick:U,class:"rounded-lg p-2 text-gray-400 hover:bg-white/50 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-white transition-all duration-200"},d[6]||(d[6]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",ma,[e("form",{onSubmit:Re(G,["prevent"]),class:"space-y-3"},[e("div",va,[q(e("input",{"onUpdate:modelValue":d[0]||(d[0]=p=>S.value.name=p),type:"text",placeholder:"Enter new terminal name",class:"flex-1 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-gray-900 placeholder-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:placeholder-gray-500 dark:focus:border-brand-800 transition-all duration-200",required:""},null,512),[[Q,S.value.name]]),e("button",{type:"submit",disabled:M.value||!S.value.name.trim(),class:"rounded-lg bg-brand-500 px-6 py-2.5 text-white font-medium hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed dark:focus:ring-offset-gray-800 transition-all duration-200 shadow-md hover:shadow-lg"},[M.value?(r(),s("span",ba,"Adding...")):(r(),s("span",fa,"Add Terminal"))],8,ya)]),S.value.name.trim()?(r(),s("div",xa,[e("div",ha,[d[7]||(d[7]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Requires Line Sampling:",-1)),e("button",{type:"button",onClick:d[1]||(d[1]=p=>S.value.requiresLineSampling=!S.value.requiresLineSampling),class:D([S.value.requiresLineSampling?"bg-brand-500":"bg-gray-300 dark:bg-gray-600","relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2"])},[e("span",{class:D([S.value.requiresLineSampling?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform rounded-full bg-white transition-transform"])},null,2)],2),e("span",ka,b(S.value.requiresLineSampling?"Yes":"No"),1)]),e("div",wa,[d[8]||(d[8]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Berths:",-1)),e("div",$a,[(r(!0),s(I,null,ie(c.value,p=>(r(),s("label",{key:p._id,class:D(["inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full border transition-all cursor-pointer",S.value.berths.includes(p.name)?"bg-brand-500 border-brand-500 text-white":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-brand-500"])},[q(e("input",{type:"checkbox",value:p.name,"onUpdate:modelValue":d[2]||(d[2]=f=>S.value.berths=f),class:"hidden"},null,8,Ca),[[Ke,S.value.berths]]),e("span",_a,b(p.name),1)],2))),128))])])])):_("",!0)],32)]),e("div",Va,[P.value?(r(),s("div",Sa,d[9]||(d[9]=[e("div",{class:"inline-block h-10 w-10 animate-spin rounded-full border-4 border-solid border-brand-500 border-r-transparent"},null,-1),e("p",{class:"mt-3 text-gray-500 dark:text-gray-400 font-medium"},"Loading...",-1)]))):m.value.length===0?(r(),s("div",Ma,d[10]||(d[10]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1),e("p",{class:"mt-3 text-gray-500 dark:text-gray-400 font-medium"}," No terminals found ",-1),e("p",{class:"mt-1 text-sm text-gray-400 dark:text-gray-500"}," Get started by adding one above ",-1)]))):(r(),s("div",Ta,[(r(!0),s(I,null,ie(m.value,p=>(r(),s("div",{key:p._id,class:"rounded-lg border border-gray-200 dark:border-gray-700 p-4 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-all duration-200"},[e("div",Ea,[e("div",Aa,[F.value===p._id?q((r(),s("input",{key:0,"onUpdate:modelValue":d[3]||(d[3]=f=>A.value=f),type:"text",class:"w-full max-w-md rounded-lg border border-gray-300 bg-white px-3 py-1.5 text-gray-900 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-600 dark:bg-gray-900 dark:text-white dark:focus:border-brand-800 transition-all duration-200",onKeyup:[fe(f=>C(p._id),["enter"]),fe(ne,["esc"])]},null,40,Ba)),[[Q,A.value]]):(r(),s("div",Da,[e("h3",Ra,b(p.name),1),p.isActive?_("",!0):(r(),s("span",La," Inactive "))]))]),e("div",Na,[F.value===p._id?(r(),s(I,{key:0},[e("button",{onClick:f=>C(p._id),disabled:ee.value,class:"rounded-lg px-3 py-1.5 text-sm bg-green-500 text-white hover:bg-green-600 disabled:opacity-50 transition-all duration-200 font-medium shadow-sm hover:shadow"}," Save ",8,Ha),e("button",{onClick:ne,class:"rounded-lg px-3 py-1.5 text-sm bg-gray-500 text-white hover:bg-gray-600 transition-all duration-200 font-medium shadow-sm hover:shadow"}," Cancel ")],64)):(r(),s(I,{key:1},[e("button",{onClick:f=>$(p),class:"rounded-lg p-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 transition-all duration-200",title:"Edit"},d[11]||(d[11]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,Oa),e("button",{onClick:f=>z(p._id),disabled:re.value===p._id,class:"rounded-lg p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 transition-all duration-200 disabled:opacity-50",title:"Delete"},d[12]||(d[12]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,ja)],64))])]),e("div",Pa,[e("div",Ua,[d[13]||(d[13]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Requires Line Sampling:",-1)),e("button",{type:"button",onClick:f=>ae(p),class:D([p.requiresLineSampling?"bg-brand-500":"bg-gray-300 dark:bg-gray-600","relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2"])},[e("span",{class:D([p.requiresLineSampling?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform rounded-full bg-white transition-transform"])},null,2)],10,Fa),e("span",za,b(p.requiresLineSampling?"Yes":"No"),1)]),e("div",null,[d[14]||(d[14]=e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block"}," Associated Berths: ",-1)),e("div",qa,[(r(!0),s(I,null,ie(c.value,f=>{var O,j;return r(),s("label",{key:f._id,class:D(["inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full border transition-all cursor-pointer",(O=p.berths)!=null&&O.includes(f.name)?"bg-brand-500 border-brand-500 text-white":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-brand-500"])},[e("input",{type:"checkbox",value:f.name,checked:(j=p.berths)==null?void 0:j.includes(f.name),onChange:pe=>oe(p,f.name),class:"hidden"},null,40,Ia),e("span",Ya,b(f.name),1)],2)}),128)),c.value.length?_("",!0):(r(),s("span",Ka," No berths available. Please add berths first. "))])])])]))),128))]))]),e("div",{class:"border-t border-gray-200 dark:border-gray-700 px-6 py-4 bg-gray-50 dark:bg-gray-900/50"},[e("button",{onClick:U,class:"w-full rounded-lg bg-gray-200 px-4 py-2.5 text-gray-900 font-medium hover:bg-gray-300 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600 transition-all duration-200"}," Close ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Za=Ge(Wa,[["__scopeId","data-v-464acfb4"]]),Ga={class:"fixed inset-0 overflow-y-auto"},Xa={class:"flex min-h-full items-center justify-center p-4"},Ja={class:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 px-6 py-4 bg-gradient-to-r from-brand-50 to-white dark:from-gray-800 dark:to-gray-800"},Qa={class:"overflow-y-auto max-h-[calc(90vh-80px)] px-6 py-6"},es={key:0,class:"space-y-6"},ts={class:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-6 space-y-4"},rs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},as={class:"mt-1 text-base font-semibold text-gray-900 dark:text-white"},ss={class:"mt-1 text-base font-semibold text-brand-600 dark:text-brand-400"},os={key:0},ls={class:"mt-1 text-base text-gray-900 dark:text-white"},ns={class:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-6 space-y-4"},ds={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},is={key:0,class:"flex flex-wrap gap-2"},us={key:1,class:"text-gray-500 dark:text-gray-400"},cs={key:0,class:"flex flex-wrap gap-2"},gs={key:1,class:"text-gray-500 dark:text-gray-400"},ps={class:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-6 space-y-4"},ms={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},vs={key:0},ys={class:"mt-1 text-base text-gray-900 dark:text-white"},bs={key:1},fs={class:"mt-1 text-base text-gray-900 dark:text-white"},xs={key:2},hs={class:"mt-1 text-base text-gray-900 dark:text-white"},ks={key:3},ws={class:"mt-1 text-base text-gray-900 dark:text-white"},$s={class:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-6 space-y-4"},Cs={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_s={class:"space-y-4"},Vs={key:0},Ss={class:"mt-1 text-base text-gray-900 dark:text-white"},Ms={key:1},Ts={class:"mt-1 text-base text-gray-900 dark:text-white"},Es={class:"space-y-4"},As={key:0},Bs={class:"mt-1 text-base text-gray-900 dark:text-white"},Ds={key:1},Rs={class:"mt-1 text-base text-gray-900 dark:text-white"},Ls={key:2},Ns={class:"mt-1 text-base text-gray-900 dark:text-white"},Hs={class:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-6"},Os={class:"flex items-center gap-3"},js={class:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-6 space-y-4"},Ps={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Us={key:0},Fs={class:"mt-1 text-base text-gray-900 dark:text-white"},zs={key:1},qs={class:"mt-1 text-base text-gray-900 dark:text-white"},Is=Ve({__name:"ViewNominationModal",props:{isOpen:{type:Boolean},nomination:{}},emits:["close"],setup(ye,{emit:n}){const R=n,H=()=>{R("close")},E=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1});return(m,c)=>(r(),$e(B(Oe),{show:m.isOpen,as:"template"},{default:V(()=>[k(B(Le),{as:"div",class:"relative z-[999999]",onClose:H},{default:V(()=>[k(B(xe),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:V(()=>c[0]||(c[0]=[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity"},null,-1)])),_:1}),e("div",Ga,[e("div",Xa,[k(B(xe),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 scale-95 translate-y-4","enter-to":"opacity-100 scale-100 translate-y-0",leave:"ease-in duration-200","leave-from":"opacity-100 scale-100 translate-y-0","leave-to":"opacity-0 scale-95 translate-y-4"},{default:V(()=>[k(B(Ne),{class:"w-full max-w-4xl max-h-[90vh] overflow-hidden rounded-2xl bg-white dark:bg-gray-800 shadow-2xl transform transition-all"},{default:V(()=>[e("div",Ja,[k(B(He),{class:"text-2xl font-bold text-gray-900 dark:text-white"},{default:V(()=>c[1]||(c[1]=[Y(" Nomination Details ")])),_:1}),e("button",{onClick:H,class:"rounded-lg p-2 text-gray-400 hover:bg-white/50 hover:text-gray-900 dark:hover:bg-gray-700 dark:hover:text-white transition-all duration-200"},c[2]||(c[2]=[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Qa,[m.nomination?(r(),s("div",es,[e("div",ts,[c[6]||(c[6]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Basic Information ",-1)),e("div",rs,[e("div",null,[c[3]||(c[3]=e("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Vessel Name",-1)),e("p",as,b(m.nomination.vesselName),1)]),e("div",null,[c[4]||(c[4]=e("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"AmSpec Reference",-1)),e("p",ss,b(m.nomination.amspecReference),1)]),m.nomination.clientReference?(r(),s("div",os,[c[5]||(c[5]=e("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Client Reference",-1)),e("p",ls,b(m.nomination.clientReference),1)])):_("",!0)])]),e("div",ns,[c[9]||(c[9]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Products & Clients",-1)),e("div",ds,[e("div",null,[c[7]||(c[7]=e("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2 block"},"Clients",-1)),m.nomination.clients&&m.nomination.clients.length>0?(r(),s("div",is,[(r(!0),s(I,null,ie(m.nomination.clients,(P,M)=>(r(),s("span",{key:M,class:"inline-flex rounded-full bg-blue-100 px-3 py-1.5 text-sm font-medium text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"},b(P),1))),128))])):(r(),s("p",us,"No clients assigned"))]),e("div",null,[c[8]||(c[8]=e("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2 block"},"Product Types",-1)),m.nomination.productTypes&&m.nomination.productTypes.length>0?(r(),s("div",cs,[(r(!0),s(I,null,ie(m.nomination.productTypes,(P,M)=>(r(),s("span",{key:M,class:"inline-flex rounded-full bg-green-100 px-3 py-1.5 text-sm font-medium text-green-800 dark:bg-green-900/30 dark:text-green-400"},b(P),1))),128))])):(r(),s("p",gs,"No product types assigned"))])])]),e("div",ps,[c[14]||(c[14]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Operations Team",-1)),e("div",ms,[m.nomination.agent?(r(),s("div",vs,[c[10]||(c[10]=e("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Agent",-1)),e("p",ys,b(m.nomination.agent),1)])):_("",!0),m.nomination.surveyor?(r(),s("div",bs,[c[11]||(c[11]=e("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Surveyor",-1)),e("p",fs,b(m.nomination.surveyor),1)])):_("",!0),m.nomination.sampler?(r(),s("div",xs,[c[12]||(c[12]=e("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Sampler",-1)),e("p",hs,b(m.nomination.sampler),1)])):_("",!0),m.nomination.chemist?(r(),s("div",ks,[c[13]||(c[13]=e("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Chemist",-1)),e("p",ws,b(m.nomination.chemist),1)])):_("",!0)])]),e("div",$s,[c[20]||(c[20]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Location & Timing",-1)),e("div",Cs,[e("div",_s,[m.nomination.terminal?(r(),s("div",Vs,[c[15]||(c[15]=e("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Terminal",-1)),e("p",Ss,b(m.nomination.terminal),1)])):_("",!0),m.nomination.berth?(r(),s("div",Ms,[c[16]||(c[16]=e("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Berth",-1)),e("p",Ts,b(m.nomination.berth),1)])):_("",!0)]),e("div",Es,[m.nomination.pilotOnBoard?(r(),s("div",As,[c[17]||(c[17]=e("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Pilot on Board",-1)),e("p",Bs,b(E(m.nomination.pilotOnBoard)),1)])):_("",!0),m.nomination.etb?(r(),s("div",Ds,[c[18]||(c[18]=e("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"ETB (Estimated Time of Berthing)",-1)),e("p",Rs,b(E(m.nomination.etb)),1)])):_("",!0),m.nomination.etc?(r(),s("div",Ls,[c[19]||(c[19]=e("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"ETC (Estimated Time of Completion)",-1)),e("p",Ns,b(E(m.nomination.etc)),1)])):_("",!0)])])]),e("div",Hs,[c[21]||(c[21]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Status",-1)),e("div",Os,[e("span",{class:D(["inline-flex rounded-full px-4 py-2 text-sm font-medium",m.nomination.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":m.nomination.status==="approved"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":m.nomination.status==="in-progress"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":m.nomination.status==="cancelled"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"])},b(m.nomination.status||"pending"),3)])]),e("div",js,[c[24]||(c[24]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Record Information",-1)),e("div",Ps,[m.nomination.createdAt?(r(),s("div",Us,[c[22]||(c[22]=e("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Created At",-1)),e("p",Fs,b(E(m.nomination.createdAt)),1)])):_("",!0),m.nomination.updatedAt?(r(),s("div",zs,[c[23]||(c[23]=e("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Last Updated",-1)),e("p",qs,b(E(m.nomination.updatedAt)),1)])):_("",!0)])])])):_("",!0)]),e("div",{class:"flex justify-end border-t border-gray-200 dark:border-gray-700 px-6 py-4 bg-gray-50 dark:bg-gray-900/50"},[e("button",{onClick:H,class:"rounded-xl bg-brand-500 px-6 py-3 text-base font-semibold text-white hover:bg-brand-600 transition-all duration-200 shadow-lg hover:shadow-xl"}," Close ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Ys={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ks={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},Ws={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Zs={class:"flex items-center justify-between mb-2"},Gs={class:"flex items-center justify-between mb-2"},Xs={class:"flex items-center justify-between mb-2"},Js={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Qs={class:"relative"},eo={class:"relative"},to={class:"relative"},ro={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ao={class:"flex items-center justify-between mb-2"},so={class:"flex items-center justify-between mb-2"},oo={class:"flex items-center justify-between mb-2"},lo={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},no={class:"flex items-center justify-between mb-2"},io={class:"flex items-center justify-between mb-2"},uo={class:"flex gap-4 pt-4"},co={key:0,class:"flex items-center gap-2"},go={key:1},po={class:"mt-8 space-y-4"},mo={class:"flex items-center justify-between gap-4"},vo={class:"flex items-center gap-4"},yo={class:"relative flex-1 max-w-lg"},bo={class:"flex"},fo={class:"relative filter-dropdown"},xo={key:0,class:"absolute top-full left-0 mt-1 w-48 rounded-lg border border-gray-200 bg-white shadow-lg z-50 dark:border-gray-700 dark:bg-gray-800 filter-dropdown"},ho={class:"py-1"},ko={class:"relative flex-1"},wo={class:"absolute inset-y-0 right-0 pr-3 flex items-center"},$o={key:0,class:"flex justify-center py-12"},Co={key:1,class:"rounded-lg border border-gray-200 bg-white p-12 text-center dark:border-gray-700 dark:bg-gray-800"},_o={class:"mt-4 text-sm font-medium text-gray-900 dark:text-white"},Vo={class:"mt-2 text-sm text-gray-500 dark:text-gray-400"},So={key:2,class:"overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800"},Mo={key:0,class:"px-4 py-2 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900"},To={class:"text-sm text-gray-600 dark:text-gray-400"},Eo={class:"font-medium"},Ao={class:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700"},Bo={class:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300"},Do={class:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300"},Ro={class:"flex items-center gap-1"},Lo=["disabled"],No={class:"px-2"},Ho=["disabled"],Oo={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},jo={class:"bg-gray-50 dark:bg-gray-900"},Po={class:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700 dark:text-gray-300"},Uo={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},Fo={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},zo={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 opacity-60",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},qo={class:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800"},Io={class:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900 dark:text-white"},Yo={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-700 dark:text-gray-300"},Ko={class:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300"},Wo={class:"flex flex-wrap gap-1"},Zo={key:0,class:"text-gray-400"},Go={class:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300"},Xo={class:"flex flex-wrap gap-1"},Jo={class:"whitespace-nowrap px-6 py-4 text-sm text-gray-700 dark:text-gray-300"},Qo={class:"whitespace-nowrap px-6 py-4"},el={class:"whitespace-nowrap px-6 py-4 text-sm"},tl={class:"flex items-center gap-2"},rl=["onClick"],al=["onClick"],sl=["onClick"],ol=Ve({__name:"ShipNominationForm",setup(ye){const n=u({vesselName:"",amspecReference:"",clientReference:"",clients:[],productTypes:[],agent:"",pilotOnBoard:"",etb:"",etc:"",terminal:"",berth:"",surveyor:"",sampler:"",chemist:""}),R=u(""),H=u(null),E=o=>{let h=o.target.value.replace(/\D/g,"");h.length>3&&h.length<=5?h=h.slice(0,3)+"-"+h.slice(3):h.length>5&&(h=h.slice(0,3)+"-"+h.slice(3,5)+"-"+h.slice(5,10)),n.value.amspecReference=h},m=o=>{if(o&&o.length>0){const t=new Date(o[0]),h=new Date(t.getTime()+2*60*60*1e3),L=h.getFullYear(),l=String(h.getMonth()+1).padStart(2,"0"),J=String(h.getDate()).padStart(2,"0"),le=String(h.getHours()).padStart(2,"0"),ve=String(h.getMinutes()).padStart(2,"0");n.value.etb=`${L}-${l}-${J} ${le}:${ve}`,n.value.etc&&new Date(n.value.etc)<h&&(n.value.etc="")}},c=o=>{if(o&&o.length>0){const t=new Date(o[0]),h=t.getFullYear(),L=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0"),J=String(t.getHours()).padStart(2,"0"),le=String(t.getMinutes()).padStart(2,"0");n.value.etb=`${h}-${L}-${l} ${J}:${le}`,n.value.etc&&new Date(n.value.etc)<t&&(n.value.etc="")}},P=async()=>{var t;R.value="";const o=(t=n.value.amspecReference)==null?void 0:t.trim();if(!o){R.value="AmSpec Reference is required";return}if(!(he.value&&H.value===o))try{const h=await wt(o);h.success&&h.exists&&(R.value="This AmSpec Reference already exists")}catch{}},M=u([]),ee=u([]),re=u([]),F=u([]),A=u([]),se=u([]),S=u([]),Z=u([]),te=de(()=>re.value.map(o=>({value:o,label:o}))),G=de(()=>S.value.map(o=>({value:o,label:o}))),$=de(()=>Z.value.map(o=>({value:o,label:o}))),ne=de(()=>F.value.map(o=>({value:o.name,label:o.name}))),C=de(()=>se.value.map(o=>({value:o,label:o}))),oe=de(()=>ae.value.map(o=>({value:o,label:o}))),ae=de(()=>{if(!n.value.terminal)return[];const o=F.value.find(t=>t.name===n.value.terminal);return o&&o.berths&&o.berths.length>0?o.berths:A.value}),z=()=>{n.value.berth&&(ae.value.includes(n.value.berth)||(n.value.berth=""))},U=async()=>{try{const o=await N.getAgents();o.success&&o.data&&(re.value=o.data.map(W=>W.name));const t=await N.getBerths();t.success&&t.data&&(A.value=t.data.map(W=>W.name));const h=await N.getChemists();h.success&&h.data&&(Z.value=h.data.map(W=>W.name));const L=await N.getSamplers();L.success&&L.data&&(S.value=L.data.map(W=>W.name));const l=await N.getSurveyors();l.success&&l.data&&(se.value=l.data.map(W=>W.name));const J=await N.getTerminals();J.success&&J.data&&(F.value=J.data);const le=await N.getClients();le.success&&le.data&&(M.value=le.data.map(W=>({value:W.name,label:W.name})));const ve=await N.getProductTypes();ve.success&&ve.data&&(ee.value=ve.data.map(W=>({value:W.name,label:W.name})))}catch(o){console.error("Error loading dropdown data:",o)}},v=u(1),d=u(10),p=u(0),f=u(0),O=u(""),j=u("all"),pe=de(()=>p.value===0?0:(v.value-1)*d.value+1),me=de(()=>Math.min(v.value*d.value,p.value)),w=u("etb"),i=u("desc"),x=de(()=>{if(!O.value)return Ae.value;const o=O.value.toLowerCase();return Ae.value.filter(t=>{var h,L,l,J,le,ve,W,Xe,Je,Qe,et,tt,rt,at,st;switch(j.value){case"vesselName":return(h=t.vesselName)==null?void 0:h.toLowerCase().includes(o);case"surveyor":return(L=t.surveyor)==null?void 0:L.toLowerCase().includes(o);case"terminal":return(l=t.terminal)==null?void 0:l.toLowerCase().includes(o);case"client":return(J=t.clients)==null?void 0:J.some(Me=>Me.toLowerCase().includes(o));case"all":default:return((le=t.amspecReference)==null?void 0:le.toLowerCase().includes(o))||((ve=t.vesselName)==null?void 0:ve.toLowerCase().includes(o))||((W=t.clientReference)==null?void 0:W.toLowerCase().includes(o))||((Xe=t.clients)==null?void 0:Xe.some(Me=>Me.toLowerCase().includes(o)))||((Je=t.productTypes)==null?void 0:Je.some(Me=>Me.toLowerCase().includes(o)))||((Qe=t.agent)==null?void 0:Qe.toLowerCase().includes(o))||((et=t.terminal)==null?void 0:et.toLowerCase().includes(o))||((tt=t.berth)==null?void 0:tt.toLowerCase().includes(o))||((rt=t.surveyor)==null?void 0:rt.toLowerCase().includes(o))||((at=t.sampler)==null?void 0:at.toLowerCase().includes(o))||((st=t.chemist)==null?void 0:st.toLowerCase().includes(o))}})}),K=()=>{switch(j.value){case"vesselName":return"Vessel Name";case"surveyor":return"Surveyor";case"terminal":return"Terminal";case"client":return"Client";case"all":default:return"All Fields"}},be=u(!1),ge=async()=>{je.value=!0;try{const o=await $t({page:v.value,limit:d.value,sortBy:w.value,sortOrder:i.value});o.success&&o.data&&(Ae.value=o.data,p.value=o.total??o.count??o.data.length,f.value=o.pages??Math.ceil((o.total??o.data.length)/d.value))}catch(o){console.error("Error loading nominations:",o)}finally{je.value=!1}},Se=()=>{v.value=1,ge()},y=()=>{v.value>1&&(v.value-=1,ge())},a=()=>{v.value<f.value&&(v.value+=1,ge())},g=()=>{w.value!=="etb"?(w.value="etb",i.value="asc"):i.value=i.value==="asc"?"desc":"asc",v.value=1,ge()},X=()=>{O.value="",j.value="all"},T=o=>{j.value=o,be.value=!1},Ce=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1});nt(()=>{U(),ge(),document.addEventListener("click",o=>{o.target.closest(".filter-dropdown")||(be.value=!1)})});const Te={enableTime:!0,dateFormat:"Y-m-d H:i",altInput:!0,altFormat:"F j, Y at H:i",time_24hr:!0,minuteIncrement:15,locale:{firstDayOfWeek:1}},dt=de(()=>({...Te,minDate:n.value.pilotOnBoard||void 0})),it=de(()=>({...Te,minDate:n.value.etb||void 0})),ce=De(),Ee=u(!1),je=u(!1),Ae=u([]),Pe=u(!1),Be=u(!1),ue=u(null),he=u(!1),ut=async()=>{var o,t;if(!n.value.vesselName||!n.value.amspecReference||n.value.productTypes.length===0){ce.warning("Please fill in all required fields: Vessel Name, AmSpec Reference #, and Product Types");return}if(await P(),R.value){ce.error(R.value);return}try{Ee.value=!0;const h={vesselName:n.value.vesselName,amspecReference:n.value.amspecReference,clientReference:n.value.clientReference||void 0,clients:n.value.clients.length>0?n.value.clients.map(l=>l.value):void 0,productTypes:n.value.productTypes.map(l=>l.value),agent:n.value.agent||void 0,pilotOnBoard:n.value.pilotOnBoard||void 0,etb:n.value.etb||void 0,etc:n.value.etc||void 0,terminal:n.value.terminal||void 0,berth:n.value.berth||void 0,surveyor:n.value.surveyor||void 0,sampler:n.value.sampler||void 0,chemist:n.value.chemist||void 0};let L;if(he.value&&ue.value?L=await _t(ue.value._id,h):L=await Vt(h),L.success){const l=he.value?"updated":"created";ce.success(`Ship Nomination ${l} successfully! Reference: ${(o=L.data)==null?void 0:o.amspecReference}`),Ue(),ge()}else ce.error(L.message||"Failed to create nomination")}catch(h){if(console.error("Error submitting form:",h),h&&typeof h=="object"&&"response"in h){const l=(t=h.response)==null?void 0:t.data;l!=null&&l.errors&&Array.isArray(l.errors)?ce.error(`Validation Errors: ${l.errors.join(", ")}`):ce.error((l==null?void 0:l.message)||"Failed to create nomination")}else ce.error("Network error. Please make sure the backend server is running on port 5000.")}finally{Ee.value=!1}},Ue=()=>{n.value={vesselName:"",amspecReference:"",clientReference:"",clients:[],productTypes:[],agent:"",pilotOnBoard:"",etb:"",etc:"",terminal:"",berth:"",surveyor:"",sampler:"",chemist:""},he.value=!1,ue.value=null},ke=u({isOpen:!1,type:"",title:"",singularTitle:""}),Fe=u(!1),ze=u(!1),we=(o,t,h)=>{if(o==="samplers"){Fe.value=!0;return}ke.value={isOpen:!0,type:o,title:t,singularTitle:h}},ct=()=>{ke.value.isOpen=!1},gt=()=>{Fe.value=!1},qe=()=>{U()},pt=o=>{ue.value=o,Pe.value=!0},mt=o=>{var t,h;he.value=!0,ue.value=o,H.value=o.amspecReference,n.value.vesselName=o.vesselName,n.value.amspecReference=o.amspecReference,n.value.clientReference=o.clientReference||"",n.value.clients=((t=o.clients)==null?void 0:t.map(L=>({value:L,label:L})))||[],n.value.productTypes=((h=o.productTypes)==null?void 0:h.map(L=>({value:L,label:L})))||[],n.value.agent=o.agent||"",n.value.pilotOnBoard=o.pilotOnBoard||"",n.value.etb=o.etb||"",n.value.etc=o.etc||"",n.value.terminal=o.terminal||"",n.value.berth=o.berth||"",n.value.surveyor=o.surveyor||"",n.value.sampler=o.sampler||"",n.value.chemist=o.chemist||"",window.scrollTo({top:0,behavior:"smooth"}),ce.info("Nomination loaded for editing")},vt=o=>{ue.value=o,Be.value=!0},yt=async()=>{if(ue.value)try{const o=await Ct(ue.value._id);o.success?(ce.success("Nomination deleted successfully"),ge(),ue.value=null):ce.error(o.message||"Failed to delete nomination")}catch(o){console.error("Error deleting nomination:",o),ce.error("Failed to delete nomination")}finally{Be.value=!1}};return(o,t)=>{var h,L;return r(),s(I,null,[e("form",{onSubmit:Re(ut,["prevent"]),class:"space-y-6"},[e("div",Ys,[e("div",null,[t[34]||(t[34]=e("label",{for:"vesselName",class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"},[Y(" Vessel Name "),e("span",{class:"text-red-500"},"*")],-1)),q(e("input",{id:"vesselName","onUpdate:modelValue":t[0]||(t[0]=l=>n.value.vesselName=l),type:"text",required:"",class:"w-full rounded-lg border border-gray-300 bg-white px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:placeholder-gray-500 dark:focus:border-brand-800",placeholder:"Enter vessel name"},null,512),[[Q,n.value.vesselName]])]),e("div",null,[t[35]||(t[35]=e("label",{for:"amspecRef",class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"},[Y(" AmSpec Reference # "),e("span",{class:"text-red-500"},"*")],-1)),q(e("input",{id:"amspecRef","onUpdate:modelValue":t[1]||(t[1]=l=>n.value.amspecReference=l),onInput:E,onBlur:t[2]||(t[2]=l=>P()),type:"text",required:"",maxlength:"12",class:D(["w-full rounded-lg border bg-white px-4 py-3 text-gray-900 placeholder-gray-400 focus:outline-hidden focus:ring-3 transition-all duration-200 dark:bg-gray-800 dark:text-white dark:placeholder-gray-500",R.value?"border-red-500 focus:ring-red-500/20 dark:border-red-600":"border-gray-300 focus:border-brand-300 focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:focus:border-brand-800"]),placeholder:"000-00-00000"},null,34),[[Q,n.value.amspecReference]]),R.value?(r(),s("p",Ks,b(R.value),1)):_("",!0)]),e("div",null,[t[36]||(t[36]=e("label",{for:"clientRef",class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"}," Client Reference # ",-1)),q(e("input",{id:"clientRef","onUpdate:modelValue":t[3]||(t[3]=l=>n.value.clientReference=l),type:"text",class:"w-full rounded-lg border border-gray-300 bg-white px-4 py-3 text-gray-900 placeholder-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:placeholder-gray-500 dark:focus:border-brand-800",placeholder:"Enter client reference number"},null,512),[[Q,n.value.clientReference]])])]),e("div",Ws,[e("div",null,[e("div",Zs,[t[37]||(t[37]=e("label",{for:"client",class:"block text-sm font-medium text-gray-900 dark:text-white"}," Client ",-1)),e("button",{type:"button",onClick:t[4]||(t[4]=l=>we("clients","Clients","Client")),class:"text-xs text-brand-500 hover:text-brand-600 dark:text-brand-400 dark:hover:text-brand-300 font-medium"}," Manage ")]),k(ot,{modelValue:n.value.clients,"onUpdate:modelValue":t[5]||(t[5]=l=>n.value.clients=l),options:M.value,placeholder:"Select clients"},null,8,["modelValue","options"])]),e("div",null,[e("div",Gs,[t[38]||(t[38]=e("label",{for:"productTypes",class:"block text-sm font-medium text-gray-900 dark:text-white"},[Y(" Product Types "),e("span",{class:"text-red-500"},"*")],-1)),e("button",{type:"button",onClick:t[6]||(t[6]=l=>we("product-types","Product Types","Product Type")),class:"text-xs text-brand-500 hover:text-brand-600 dark:text-brand-400 dark:hover:text-brand-300 font-medium"}," Manage ")]),k(ot,{modelValue:n.value.productTypes,"onUpdate:modelValue":t[7]||(t[7]=l=>n.value.productTypes=l),options:ee.value,placeholder:"Select product types",required:""},null,8,["modelValue","options"])]),e("div",null,[e("div",Xs,[t[39]||(t[39]=e("label",{for:"agent",class:"block text-sm font-medium text-gray-900 dark:text-white"}," Agent ",-1)),e("button",{type:"button",onClick:t[8]||(t[8]=l=>we("agents","Agents","Agent")),class:"text-xs text-brand-500 hover:text-brand-600 dark:text-brand-400 dark:hover:text-brand-300 font-medium"}," Manage ")]),k(_e,{modelValue:n.value.agent,"onUpdate:modelValue":t[9]||(t[9]=l=>n.value.agent=l),options:te.value,placeholder:"Select agent"},null,8,["modelValue","options"])])]),e("div",Js,[e("div",null,[t[41]||(t[41]=e("label",{for:"pilotOnBoard",class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"}," Pilot on Board ",-1)),e("div",Qs,[k(B(Ye),{id:"pilotOnBoard",modelValue:n.value.pilotOnBoard,"onUpdate:modelValue":t[10]||(t[10]=l=>n.value.pilotOnBoard=l),config:Te,onOnChange:m,class:"h-11 w-full appearance-none rounded-lg border border-gray-300 bg-white px-4 py-3 text-sm text-gray-900 placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:placeholder:text-gray-500 dark:focus:border-brand-800",placeholder:"Select date and time"},null,8,["modelValue"]),t[40]||(t[40]=e("span",{class:"absolute text-gray-500 -translate-y-1/2 pointer-events-none right-3 top-1/2 dark:text-gray-400"},[e("svg",{class:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.66659 1.5415C7.0808 1.5415 7.41658 1.87729 7.41658 2.2915V2.99984H12.5833V2.2915C12.5833 1.87729 12.919 1.5415 13.3333 1.5415C13.7475 1.5415 14.0833 1.87729 14.0833 2.2915V2.99984L15.4166 2.99984C16.5212 2.99984 17.4166 3.89527 17.4166 4.99984V7.49984V15.8332C17.4166 16.9377 16.5212 17.8332 15.4166 17.8332H4.58325C3.47868 17.8332 2.58325 16.9377 2.58325 15.8332V7.49984V4.99984C2.58325 3.89527 3.47868 2.99984 4.58325 2.99984L5.91659 2.99984V2.2915C5.91659 1.87729 6.25237 1.5415 6.66659 1.5415ZM6.66659 4.49984H4.58325C4.30711 4.49984 4.08325 4.7237 4.08325 4.99984V6.74984H15.9166V4.99984C15.9166 4.7237 15.6927 4.49984 15.4166 4.49984H13.3333H6.66659ZM15.9166 8.24984H4.08325V15.8332C4.08325 16.1093 4.30711 16.3332 4.58325 16.3332H15.4166C15.6927 16.3332 15.9166 16.1093 15.9166 15.8332V8.24984Z",fill:""})])],-1))])]),e("div",null,[t[43]||(t[43]=e("label",{for:"etb",class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"}," ETB (Estimated Time of Berthing) ",-1)),e("div",eo,[k(B(Ye),{id:"etb",modelValue:n.value.etb,"onUpdate:modelValue":t[11]||(t[11]=l=>n.value.etb=l),config:dt.value,onOnChange:c,class:"h-11 w-full appearance-none rounded-lg border border-gray-300 bg-white px-4 py-3 text-sm text-gray-900 placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:placeholder:text-gray-500 dark:focus:border-brand-800",placeholder:"Select date and time"},null,8,["modelValue","config"]),t[42]||(t[42]=e("span",{class:"absolute text-gray-500 -translate-y-1/2 pointer-events-none right-3 top-1/2 dark:text-gray-400"},[e("svg",{class:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.66659 1.5415C7.0808 1.5415 7.41658 1.87729 7.41658 2.2915V2.99984H12.5833V2.2915C12.5833 1.87729 12.919 1.5415 13.3333 1.5415C13.7475 1.5415 14.0833 1.87729 14.0833 2.2915V2.99984L15.4166 2.99984C16.5212 2.99984 17.4166 3.89527 17.4166 4.99984V7.49984V15.8332C17.4166 16.9377 16.5212 17.8332 15.4166 17.8332H4.58325C3.47868 17.8332 2.58325 16.9377 2.58325 15.8332V7.49984V4.99984C2.58325 3.89527 3.47868 2.99984 4.58325 2.99984L5.91659 2.99984V2.2915C5.91659 1.87729 6.25237 1.5415 6.66659 1.5415ZM6.66659 4.49984H4.58325C4.30711 4.49984 4.08325 4.7237 4.08325 4.99984V6.74984H15.9166V4.99984C15.9166 4.7237 15.6927 4.49984 15.4166 4.49984H13.3333H6.66659ZM15.9166 8.24984H4.08325V15.8332C4.08325 16.1093 4.30711 16.3332 4.58325 16.3332H15.4166C15.6927 16.3332 15.9166 16.1093 15.9166 15.8332V8.24984Z",fill:""})])],-1))])]),e("div",null,[t[45]||(t[45]=e("label",{for:"etc",class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"}," ETC (Estimated Time of Completion) ",-1)),e("div",to,[k(B(Ye),{id:"etc",modelValue:n.value.etc,"onUpdate:modelValue":t[12]||(t[12]=l=>n.value.etc=l),config:it.value,class:"h-11 w-full appearance-none rounded-lg border border-gray-300 bg-white px-4 py-3 text-sm text-gray-900 placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:placeholder:text-gray-500 dark:focus:border-brand-800",placeholder:"Select date and time"},null,8,["modelValue","config"]),t[44]||(t[44]=e("span",{class:"absolute text-gray-500 -translate-y-1/2 pointer-events-none right-3 top-1/2 dark:text-gray-400"},[e("svg",{class:"fill-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.66659 1.5415C7.0808 1.5415 7.41658 1.87729 7.41658 2.2915V2.99984H12.5833V2.2915C12.5833 1.87729 12.919 1.5415 13.3333 1.5415C13.7475 1.5415 14.0833 1.87729 14.0833 2.2915V2.99984L15.4166 2.99984C16.5212 2.99984 17.4166 3.89527 17.4166 4.99984V7.49984V15.8332C17.4166 16.9377 16.5212 17.8332 15.4166 17.8332H4.58325C3.47868 17.8332 2.58325 16.9377 2.58325 15.8332V7.49984V4.99984C2.58325 3.89527 3.47868 2.99984 4.58325 2.99984L5.91659 2.99984V2.2915C5.91659 1.87729 6.25237 1.5415 6.66659 1.5415ZM6.66659 4.49984H4.58325C4.30711 4.49984 4.08325 4.7237 4.08325 4.99984V6.74984H15.9166V4.99984C15.9166 4.7237 15.6927 4.49984 15.4166 4.49984H13.3333H6.66659ZM15.9166 8.24984H4.08325V15.8332C4.08325 16.1093 4.30711 16.3332 4.58325 16.3332H15.4166C15.6927 16.3332 15.9166 16.1093 15.9166 15.8332V8.24984Z",fill:""})])],-1))])])]),e("div",ro,[e("div",null,[e("div",ao,[t[46]||(t[46]=e("label",{for:"terminal",class:"block text-sm font-medium text-gray-900 dark:text-white"}," Terminal ",-1)),e("button",{type:"button",onClick:t[13]||(t[13]=l=>ze.value=!0),class:"text-xs text-brand-500 hover:text-brand-600 dark:text-brand-400 dark:hover:text-brand-300 font-medium"}," Manage ")]),k(_e,{modelValue:n.value.terminal,"onUpdate:modelValue":t[14]||(t[14]=l=>n.value.terminal=l),options:ne.value,placeholder:"Select terminal",onChange:z},null,8,["modelValue","options"])]),e("div",null,[e("div",so,[t[47]||(t[47]=e("label",{for:"berth",class:"block text-sm font-medium text-gray-900 dark:text-white"}," Berth ",-1)),e("button",{type:"button",onClick:t[15]||(t[15]=l=>we("berths","Berths","Berth")),class:"text-xs text-brand-500 hover:text-brand-600 dark:text-brand-400 dark:hover:text-brand-300 font-medium"}," Manage ")]),k(_e,{modelValue:n.value.berth,"onUpdate:modelValue":t[16]||(t[16]=l=>n.value.berth=l),options:oe.value,placeholder:n.value.terminal?"Select berth":"Select terminal first",disabled:!n.value.terminal},null,8,["modelValue","options","placeholder","disabled"])]),e("div",null,[e("div",oo,[t[48]||(t[48]=e("label",{for:"surveyor",class:"block text-sm font-medium text-gray-900 dark:text-white"}," Surveyor ",-1)),e("button",{type:"button",onClick:t[17]||(t[17]=l=>we("surveyors","Surveyors","Surveyor")),class:"text-xs text-brand-500 hover:text-brand-600 dark:text-brand-400 dark:hover:text-brand-300 font-medium"}," Manage ")]),k(_e,{modelValue:n.value.surveyor,"onUpdate:modelValue":t[18]||(t[18]=l=>n.value.surveyor=l),options:C.value,placeholder:"Select surveyor"},null,8,["modelValue","options"])])]),e("div",lo,[e("div",null,[e("div",no,[t[49]||(t[49]=e("label",{for:"sampler",class:"block text-sm font-medium text-gray-900 dark:text-white"}," Sampler ",-1)),e("button",{type:"button",onClick:t[19]||(t[19]=l=>we("samplers","Samplers","Sampler")),class:"text-xs text-brand-500 hover:text-brand-600 dark:text-brand-400 dark:hover:text-brand-300 font-medium"}," Manage ")]),k(_e,{modelValue:n.value.sampler,"onUpdate:modelValue":t[20]||(t[20]=l=>n.value.sampler=l),options:G.value,placeholder:"Select sampler"},null,8,["modelValue","options"])]),e("div",null,[e("div",io,[t[50]||(t[50]=e("label",{for:"chemist",class:"block text-sm font-medium text-gray-900 dark:text-white"}," Chemist ",-1)),e("button",{type:"button",onClick:t[21]||(t[21]=l=>we("chemists","Chemists","Chemist")),class:"text-xs text-brand-500 hover:text-brand-600 dark:text-brand-400 dark:hover:text-brand-300 font-medium"}," Manage ")]),k(_e,{modelValue:n.value.chemist,"onUpdate:modelValue":t[22]||(t[22]=l=>n.value.chemist=l),options:$.value,placeholder:"Select chemist"},null,8,["modelValue","options"])])]),e("div",uo,[k(Ie,{type:"submit",variant:"primary",size:"md",disabled:Ee.value},{default:V(()=>[Ee.value?(r(),s("span",co,t[51]||(t[51]=[e("svg",{class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Y(" Processing... ")]))):(r(),s("span",go,b(he.value?"Update Nomination":"Submit Nomination"),1))]),_:1},8,["disabled"]),k(Ie,{type:"button",variant:"outline",size:"md",onClick:Ue},{default:V(()=>t[52]||(t[52]=[Y(" Reset ")])),_:1}),he.value?(r(),$e(Ie,{key:0,type:"button",variant:"outline",size:"md",onClick:Ue},{default:V(()=>t[53]||(t[53]=[Y(" Cancel Edit ")])),_:1})):_("",!0)])],32),e("div",po,[e("div",mo,[t[57]||(t[57]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Nominations",-1)),e("div",vo,[e("div",yo,[e("div",bo,[e("div",fo,[e("button",{onClick:t[23]||(t[23]=l=>be.value=!be.value),class:"flex items-center gap-2 px-3 py-2 border border-r-0 border-gray-300 rounded-l-lg bg-gray-50 text-sm text-gray-700 hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors",type:"button"},[t[55]||(t[55]=e("svg",{class:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"})],-1)),e("span",null,b(K()),1),(r(),s("svg",{class:D(["h-4 w-4 transition-transform",{"rotate-180":be.value}]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},t[54]||(t[54]=[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)]),2))]),be.value?(r(),s("div",xo,[e("div",ho,[e("button",{onClick:t[24]||(t[24]=l=>T("all")),class:D(["w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700",{"bg-gray-100 font-semibold dark:bg-gray-700":j.value==="all"}])}," All Fields ",2),e("button",{onClick:t[25]||(t[25]=l=>T("vesselName")),class:D(["w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700",{"bg-gray-100 font-semibold dark:bg-gray-700":j.value==="vesselName"}])}," Vessel Name ",2),e("button",{onClick:t[26]||(t[26]=l=>T("client")),class:D(["w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700",{"bg-gray-100 font-semibold dark:bg-gray-700":j.value==="client"}])}," Client ",2),e("button",{onClick:t[27]||(t[27]=l=>T("terminal")),class:D(["w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700",{"bg-gray-100 font-semibold dark:bg-gray-700":j.value==="terminal"}])}," Terminal ",2),e("button",{onClick:t[28]||(t[28]=l=>T("surveyor")),class:D(["w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700",{"bg-gray-100 font-semibold dark:bg-gray-700":j.value==="surveyor"}])}," Surveyor ",2)])])):_("",!0)]),e("div",ko,[t[56]||(t[56]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),e("div",wo,[O.value?(r(),s("button",{key:0,onClick:X,class:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 transition-colors",type:"button"},[k(B(St),{class:"h-5 w-5"})])):_("",!0)]),q(e("input",{id:"search","onUpdate:modelValue":t[29]||(t[29]=l=>O.value=l),type:"text",placeholder:"Search nominations...",class:"block w-full pl-10 pr-10 py-2 border border-l-0 border-gray-300 rounded-r-lg text-sm placeholder-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:placeholder-gray-500 dark:focus:border-brand-800"},null,512),[[Q,O.value]])])])]),e("button",{onClick:ge,class:"rounded-lg bg-brand-500 px-4 py-2 text-sm font-medium text-white hover:bg-brand-600 transition-colors"}," Refresh ")])]),je.value?(r(),s("div",$o,t[58]||(t[58]=[e("div",{class:"h-8 w-8 animate-spin rounded-full border-4 border-brand-500 border-r-transparent"},null,-1)]))):x.value.length===0?(r(),s("div",Co,[t[59]||(t[59]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e("h3",_o,b(O.value?"No matching nominations":"No nominations"),1),e("p",Vo,b(O.value?`No nominations found for "${O.value}" in ${K()}`:"Get started by creating a new nomination."),1)])):(r(),s("div",So,[O.value?(r(),s("div",Mo,[e("p",To,[Y(" Showing "+b(x.value.length)+" of "+b(Ae.value.length)+" nomination(s) ",1),e("span",Eo,"(Filtered by: "+b(K())+")",1)])])):_("",!0),e("div",Ao,[e("div",Bo,[t[61]||(t[61]=e("span",null,"Rows per page:",-1)),q(e("select",{class:"rounded-md border border-gray-300 bg-white px-2 py-1 text-sm text-gray-900 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-800 dark:text-white dark:focus:border-brand-800","onUpdate:modelValue":t[30]||(t[30]=l=>d.value=l),onChange:Se},t[60]||(t[60]=[e("option",{value:10},"10",-1),e("option",{value:25},"25",-1),e("option",{value:50},"50",-1),e("option",{value:100},"100",-1)]),544),[[kt,d.value,void 0,{number:!0}]])]),e("div",Do,[e("span",null," Showing "+b(pe.value)+""+b(me.value)+" of "+b(p.value),1),e("div",Ro,[e("button",{class:"rounded-md px-2 py-1 border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",disabled:v.value===1,onClick:y,"aria-label":"Previous Page"},"  ",8,Lo),e("span",No,"Page "+b(v.value)+" / "+b(f.value),1),e("button",{class:"rounded-md px-2 py-1 border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",disabled:v.value===f.value||f.value===0,onClick:a,"aria-label":"Next Page"},"  ",8,Ho)])])]),e("table",Oo,[e("thead",jo,[e("tr",null,[t[66]||(t[66]=e("th",{class:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700 dark:text-gray-300"}," AmSpec Ref ",-1)),t[67]||(t[67]=e("th",{class:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700 dark:text-gray-300"}," Vessel Name ",-1)),t[68]||(t[68]=e("th",{class:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700 dark:text-gray-300"}," Clients ",-1)),t[69]||(t[69]=e("th",{class:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700 dark:text-gray-300"}," Product Types ",-1)),e("th",Po,[e("button",{type:"button",class:"inline-flex items-center gap-1 hover:text-brand-600 dark:hover:text-brand-400",onClick:g,title:"Sort by ETB"},[t[65]||(t[65]=e("span",null,"ETB",-1)),w.value==="etb"&&i.value==="asc"?(r(),s("svg",Uo,t[62]||(t[62]=[e("path",{"fill-rule":"evenodd",d:"M3 12a1 1 0 011.707-.707L9 15.586V4a1 1 0 112 0v11.586l4.293-4.293A1 1 0 1116.707 12l-6 6a1 1 0 01-1.414 0l-6-6A1 1 0 013 12z","clip-rule":"evenodd"},null,-1)]))):w.value==="etb"&&i.value==="desc"?(r(),s("svg",Fo,t[63]||(t[63]=[e("path",{"fill-rule":"evenodd",d:"M17 8a1 1 0 01-1.707.707L11 4.414V16a1 1 0 11-2 0V4.414L4.707 8.707A1 1 0 113.293 7.293l6-6a1 1 0 011.414 0l6 6A1 1 0 0117 8z","clip-rule":"evenodd"},null,-1)]))):(r(),s("svg",zo,t[64]||(t[64]=[e("path",{d:"M7 15l5 5 5-5M7 9l5-5 5 5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))])]),t[70]||(t[70]=e("th",{class:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700 dark:text-gray-300"}," Status ",-1)),t[71]||(t[71]=e("th",{class:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700 dark:text-gray-300"}," Actions ",-1))])]),e("tbody",qo,[(r(!0),s(I,null,ie(x.value,l=>(r(),s("tr",{key:l._id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},[e("td",Io,b(l.amspecReference),1),e("td",Yo,b(l.vesselName),1),e("td",Ko,[e("div",Wo,[(r(!0),s(I,null,ie(l.clients,(J,le)=>(r(),s("span",{key:le,class:"inline-flex rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"},b(J),1))),128)),!l.clients||l.clients.length===0?(r(),s("span",Zo,"-")):_("",!0)])]),e("td",Go,[e("div",Xo,[(r(!0),s(I,null,ie(l.productTypes,(J,le)=>(r(),s("span",{key:le,class:"inline-flex rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800 dark:bg-green-900/30 dark:text-green-400"},b(J),1))),128))])]),e("td",Jo,b(l.etb?Ce(l.etb):"-"),1),e("td",Qo,[e("span",{class:D(["inline-flex rounded-full px-2.5 py-0.5 text-xs font-medium",l.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"])},b(l.status||"pending"),3)]),e("td",el,[e("div",tl,[e("button",{onClick:J=>pt(l),class:"rounded-lg p-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 transition-all duration-200",title:"View"},t[72]||(t[72]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,rl),e("button",{onClick:J=>mt(l),class:"rounded-lg p-2 text-green-600 hover:bg-green-50 dark:text-green-400 dark:hover:bg-green-900/20 transition-all duration-200",title:"Edit"},t[73]||(t[73]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,al),e("button",{onClick:J=>vt(l),class:"rounded-lg p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 transition-all duration-200",title:"Delete"},t[74]||(t[74]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,sl)])])]))),128))])])]))]),ke.value.type!=="samplers"?(r(),$e(gr,{key:0,"is-open":ke.value.isOpen,type:ke.value.type,title:ke.value.title,"singular-title":ke.value.singularTitle,onClose:ct,onUpdated:qe},null,8,["is-open","type","title","singular-title"])):_("",!0),k(ua,{"is-open":Fe.value,onClose:gt,onUpdated:qe},null,8,["is-open"]),k(Za,{"is-open":ze.value,onClose:t[31]||(t[31]=l=>ze.value=!1),onUpdated:qe},null,8,["is-open"]),k(Is,{isOpen:Pe.value,nomination:ue.value,onClose:t[32]||(t[32]=l=>Pe.value=!1)},null,8,["isOpen","nomination"]),k(Ze,{isOpen:Be.value,title:"Delete Nomination",message:`Are you sure you want to delete this nomination?

Vessel: ${(h=ue.value)==null?void 0:h.vesselName}
Reference: ${(L=ue.value)==null?void 0:L.amspecReference}

This action cannot be undone.`,variant:"danger",confirmText:"Yes, delete",onConfirm:yt,onClose:t[33]||(t[33]=l=>Be.value=!1)},null,8,["isOpen","message"])],64)}}}),ll={class:"mt-4"},nl={class:"p-6"},wl=Ve({__name:"ShipNomination",setup(ye){return(n,R)=>(r(),$e(bt,null,{default:V(()=>[k(ft,{pageTitle:"Ship Nomination"}),e("div",ll,[k(xt,{title:"New Ship Nomination",description:"Create a new ship nomination request"},{default:V(()=>[e("div",nl,[k(ol)])]),_:1})])]),_:1}))}});export{wl as default};
